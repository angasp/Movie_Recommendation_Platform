{"version":3,"sources":["components/i18n.js","_actions/types.js","components/Config.js","_actions/user_actions.js","hoc/auth.js","components/views/LandingPage/Sections/StyledSpinner.js","components/views/LandingPage/Sections/Spinner.js","components/views/LandingPage/Sections/MainImage.js","components/commons/GridCards.js","components/views/LandingPage/Sections/StyledSearchBar.js","components/views/LandingPage/Sections/SearchBar.js","components/views/LandingPage/Sections/hooks/useFetchMovies.js","components/views/LandingPage/LandingPage.js","components/views/GenresPage/hooks/useFetchByGenre.js","components/views/GenresPage/GenresPage.js","components/views/LoginPage/LoginPage.js","components/views/RegisterPage/RegisterPage.js","assets/logo1.png","components/views/NavBar/Sections/LeftMenu.js","components/views/NavBar/Sections/RightMenu.js","components/views/NavBar/NavBar.js","components/views/Footer/Footer.js","components/views/MovieDetail/style.js","components/views/MovieDetail/Sections/LikeDislikes.js","components/views/MovieDetail/Sections/SingleComment.js","components/views/MovieDetail/Sections/ReplyComment.js","components/views/MovieDetail/Sections/Comments.js","components/views/MovieDetail/Sections/Favorite.js","components/views/MovieDetail/Sections/MovieInfo.js","components/views/MovieDetail/Sections/Recommended.js","components/views/MovieDetail/Sections/Similar.js","components/views/MovieDetail/MovieDetail.js","components/views/FavoritePage/FavoritePage.js","components/views/ProfilePage/ResetPass.js","components/views/ProfilePage/ProfilePage.js","components/views/UsersPage/UsersPage.js","components/NotFound.js","components/App.js","serviceWorker.js","_reducers/index.js","_reducers/user_reducer.js","index.js"],"names":["language","localStorage","getItem","i18n","use","Backend","initReactI18next","init","lng","fallbackLng","whitelist","backend","loadPath","debug","interpolation","escapeValue","LOGIN_USER","REGISTER_USER","UPDATE_USER","AUTH_USER","LOGOUT_USER","USER_SERVER","API_URL","API_KEY","CurrentLanguage","IMAGE_BASE_URL","IMAGE_SIZE","POSTER_SIZE","headers","foo","ComposedClass","reload","arguments","length","undefined","props","user","useSelector","state","dispatch","useDispatch","useEffect","request","axios","get","concat","then","response","data","type","payload","auth","async","isAuth","history","push","_jsx","StyledSpinner","styled","div","_templateObject","_taggedTemplateLiteral","Spinner","Title","Typography","MainImage","landing","genre","style","background","image","height","backgroundSize","backgroundPosition","backgroundPositionY","width","position","children","backgroundColor","borderRadius","padding","maxWidth","bottom","marginLeft","_jsxs","color","level","genreName","GridCards","t","useTranslation","actor","movie","movieId","movieName","actorName","charName","date","vote","movieGenre","VoteColors","BadgeColor","score","getScoreColor","Col","lg","md","xs","display","justifyContent","alignItems","Card","hoverable","alt","cover","src","textAlign","fontWeight","Badge","offset","count","className","onClick","window","location","href","moment","Date","format","StyledSearchBar","StyledSearchBarContent","_templateObject2","SearchBar","_ref","callback","setState","useState","timeOut","useRef","doSearch","event","value","target","clearTimeout","current","setTimeout","SearchOutlined","fontSize","placeholder","onChange","LandingPage","item","Movies","CurrentPage","totalPages","loading","error","year","sort","rating","yearRange","genreID","selectEl","selectElPop","fetchMovies","makeItYear","makeItSort","onRatingSliderChange","onYearRangeSliderChange","handleGenre","clearFilters","useFetchMovies","setItem","setLoading","setError","setYear","setSort","setRating","min","max","setYearRange","setGenreID","isLoadMore","endpoint","search","result","fetch","json","prev","results","page","total_pages","getFullYear","yyyy","toString","mm","getMonth","dd","getDate","mmChars","split","ddChars","convertDate","searchTerm","setSearchTerm","toggle","setToggle","buttonRef","addEventListener","handleScroll","genres","id","name","e","windowHeight","innerHeight","document","documentElement","offsetHeight","body","html","docHeight","Math","scrollHeight","clientHeight","pageYOffset","click","pickYear","MovieIcon","createFromIconfontCN","scriptUrl","flexDirection","margin","Button","shape","toggleFilterBar","Row","gutter","span","ref","paddingRight","InputRange","maxValue","minValue","Array","from","i","Divider","map","size","borderColor","React","Fragment","index","poster_path","release_date","vote_count","imdb_id","backdrop_path","overview","GridCard","title","vote_average","genre_ids","Link","to","slice","loadMoreMovies","popularEndpoint","searchEndpoint","GenresPage","genreId","useParams","MainMovieImage","fetchMoviesByGenre","useHistory","goBack","randomIndex","floor","random","console","useFetchByGenre","handleClick","genresEndpoint","withRouter","rememberMeChecked","formErrorMessage","setFormErrorMessage","rememberMe","setRememberMe","handleRememberMe","Formik","initialValues","username","password","validationSchema","Yup","required","onSubmit","values","setSubmitting","dataToSubmit","post","loginUser","loginSuccess","catch","err","touched","errors","isSubmitting","handleChange","handleBlur","handleSubmit","Form","Item","Input","prefix","UserOutlined","onBlur","LockOutlined","autoComplete","border","Checkbox","checked","htmlType","minWidth","disabled","formItemLayout","labelCol","sm","wrapperCol","tailFormItemLayout","RegisterPage","setImage","content","setContent","imageInputRef","allowedTypes","uploadImage","preventDefault","files","url","extension","replace","toLowerCase","indexOf","message","fd","FormData","append","config","res","resize","secure_url","splice","img","Image","join","status","email","firstName","lastName","confirmPassword","matches","oneOf","log","registerUser","success","alert","label","hasFeedback","validateStatus","cpassword","accept","PopcornIcon","LeftMenu","userData","Logo","useStyles","makeStyles","theme","formControl","selectEmpty","marginTop","spacing","classes","changeLanguage","logoutHandler","Username","setUsername","mounted","setMounted","fetchUsername","GroupIcon","Menu","mode","LoginOutlined","UserAddOutlined","FormControl","Select","displayEmpty","autoWidth","disableUnderline","IconComponent","inputProps","MenuItem","LogoutOutlined","NavBar","visible","setVisible","zIndex","RightMenu","showDrawer","AlignRightOutlined","Drawer","placement","closable","onClose","Footer","playerWrapper","paddingTop","reactPlayer","top","left","buttonChooseSource","buttonActors","loadingSources","marginRight","movieContainer","paddingBottom","backdrop","backgroundImage","backdropImage","objectFit","poster","boxShadow","releaseDate","genreList","listStyle","flexWrap","cursor","subtitle","marginBottom","crewList","LikeDislikes","Likes","setLikes","Dislikes","setDislikes","variable","useMemo","video","videoId","userId","commentId","Axios","likes","dislikes","Tooltip","LikeTwoTone","twoToneColor","onLike","up","paddingLeft","DislikeTwoTone","onDisLike","Meta","SendIcon","TextArea","SingleComment","CommentValue","setCommentValue","OpenReply","setOpenReply","variables","writer","_id","postId","responseTo","comment","str","refreshFunction","actions","openReply","showModal","handleCancel","Comment","author","avatar","Avatar","datetime","Modal","onCancel","footer","currentTarget","ReplyComment","ChildCommentNumber","setChildCommentNumber","OpenReplyComments","setOpenReplyComments","commentNumber","CommentLists","forEach","parentCommentId","Comments","setComment","CommentOutlined","movieTitle","PopcornColorIcon","Favorite","userFrom","movieInfo","moviePost","movieRunTime","runtime","FavoriteNumber","setFavoriteNumber","Favorited","setFavorited","subscribeNumber","subcribed","_Fragment","onClickFavorite","MovieInfo","directors","cast","trailer","MovieInfoIcon","videoArray","embedLink","key","stopVideo","youtubeLink","Container","Grid","container","variant","component","element","iterator","pathname","YoutubeOutlined","frameBorder","sameSite","Secure","allow","allowFullScreen","time","hours","mins","calcTime","original_title","production_companies","company","shift","substring","RecommendedMovies","Component","constructor","super","this","render","data_arr","withTranslation","SimilarMovies","MovieDetailPage","match","params","Movie","setMovie","Directors","setDirectors","Trailer","setTrailer","Casts","setCasts","setCommentLists","LoadingForMovie","setLoadingForMovie","LoadingForCasts","setLoadingForCasts","ActorToggle","setActorToggle","StreamTitleIcon","_mounted","endpointForMovieInfo","status_code","endpointForCasts","videoLang","endpointTrailer","crew","filter","member","job","comments","toggleActorView","profile_path","character","newComment","urlParams","FavoritePage","Favorites","setFavorites","Loading","fetchFavoredMovie","favorites","renderCards","favorite","Popover","ClockCircleOutlined","onClickDelete","DeleteOutlined","ResetPass","password_confirm","store","addNotification","insert","animationIn","animationOut","dismiss","duration","onScreen","ProfilePage","UserID","setUserID","users","info","lang","updateUser","defaultValue","UsersPage","UserList","setUserList","NotFound","App","Suspense","fallback","minHeight","ReactNotification","Switch","Route","exact","path","Auth","LoginPage","MovieDetail","Boolean","hostname","rootReducer","combineReducers","action","register","update","loginSucces","createStoreWithMiddleware","applyMiddleware","promiseMiddleware","ReduxThunk","createStore","ReactDOM","Provider","Reducer","__REDUX_DEVTOOLS_EXTENSION__","BrowserRouter","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.9bbd45d0.chunk.js","sourcesContent":["import i18n from 'i18next';\nimport { initReactI18next } from 'react-i18next';\nimport Backend from 'i18next-xhr-backend';\n\nlet language = localStorage.getItem('language');\nif (!language) {\n  language = \"en-US\";\n}\n\ni18n\n  .use(Backend)\n  .use(initReactI18next)\n\n  .init({\n    lng: language,\n    fallbackLng: 'en-US',\n    whitelist: ['en-US', 'fr-FR'],\n    backend: {\n      loadPath: '/locales/{{lng}}/{{ns}}.json'\n    },\n    debug: false,\n    interpolation: {\n      escapeValue: false, \n    }\n  });\n\n\nexport default i18n;","export const LOGIN_USER = 'login_user';\nexport const REGISTER_USER = 'register_user';\nexport const UPDATE_USER = 'update_user';\nexport const AUTH_USER = 'auth_user';\nexport const LOGOUT_USER = 'logout_user';\n","export const USER_SERVER = '/api/users';\n\nexport const API_URL = 'https://api.themoviedb.org/3/';\nexport const API_KEY = '844dba0bfd8f3a4f3799f6130ef9e335';\nexport const CurrentLanguage = localStorage.getItem('language');\n\nexport const IMAGE_BASE_URL ='https://image.tmdb.org/t/p/';\n\nexport const BACKDROP_SIZE = 'w1280'\nexport const IMAGE_SIZE = 'w1280'\n\nexport const POSTER_SIZE = 'w500'","import axios from 'axios';\n\nimport {\n    LOGIN_USER,\n    REGISTER_USER,\n    UPDATE_USER,\n    AUTH_USER,\n    LOGOUT_USER,\n} from './types';\nimport { USER_SERVER } from '../components/Config.js';\nconst headers = { 'Content-Type': 'application/json' };\n\nexport function registerUser(dataToSubmit){\n    console.log(dataToSubmit);\n    const request = axios.post(`${USER_SERVER}/register`,dataToSubmit)\n        .then(response => response.data);\n    \n    return {\n        type: REGISTER_USER,\n        payload: request\n    }\n}\nexport function updateUser(dataToSubmit){\n    const request = axios.post(`${USER_SERVER}/update`,dataToSubmit)\n        .then(response => response.data);\n    \n    return {\n        type: UPDATE_USER,\n        payload: request\n    }\n}\n\nexport function resetPasswordProfile(password, password_confirm){\n    \n    return axios.post(`${USER_SERVER}/updatePassword`,\n        {password, password_confirm },\n        { headers: headers }\n    )\n}\n\nexport function confirmation(dataToSubmit){\n    const request = axios.post(`${USER_SERVER}/confirmation`,dataToSubmit)\n        .then(response => response.data);\n    \n    return {\n        type: REGISTER_USER,\n        payload: request\n    }\n}\n\n\n\n\nexport function loginUser(dataToSubmit){\n    const request = axios.post(`${USER_SERVER}/login`,dataToSubmit)\n                .then(response => response.data);\n\n    return {\n        type: LOGIN_USER,\n        payload: request\n    }\n}\n\nexport function auth(){\n    const request = axios.get(`${USER_SERVER}/auth`)\n    .then(response => response.data);\n\n    return {\n        type: AUTH_USER,\n        payload: request\n    }\n}\n\nexport function logoutUser(){\n    const request = axios.get(`${USER_SERVER}/logout`)\n    .then(response => response.data);\n\n    return {\n        type: LOGOUT_USER,\n        payload: request\n    }\n}\n\n","import React, { useEffect } from 'react';\nimport { auth } from '../_actions/user_actions';\nimport { useSelector, useDispatch } from \"react-redux\";\n\nexport default function foo(ComposedClass, reload = null) {\n    function AuthenticationCheck(props) {\n\n        let user = useSelector(state => state.user);\n        const dispatch = useDispatch();\n\n        useEffect(() => {\n\n            dispatch(auth()).then(async response => {\n                if (await !response.payload.isAuth) {\n                    if (reload) {\n                        props.history.push('/login')\n                    }\n                } else {\n                        if (reload === false) {\n                            props.history.push('/landing')\n                        }\n                }\n            })\n\n        }, [dispatch, props.history])\n\n        return (\n            <ComposedClass {...props} user={user} />\n        )\n    }\n    return AuthenticationCheck\n}\n\n\n","import styled from 'styled-components';\n\nexport const StyledSpinner = styled.div`\n  border: 4px solid #757575; /* grey */\n  border-top: 5px solid #19ba90; /* Blixbox green */\n  border-radius: 50%;\n  width: 55px;\n  height: 55px;\n  animation: spin 0.8s linear infinite;\n  margin: 20px auto;\n\n  @keyframes spin {\n    0% {\n      transform: rotate(0deg);\n    }\n    100% {\n      transform: rotate(360deg);\n    }\n  }\n`;\n\nexport default StyledSpinner","import React from 'react'\nimport StyledSpinner from './StyledSpinner'\n\nconst Spinner = () => <StyledSpinner />\n\nexport default Spinner","import React from 'react'\nimport { Typography } from 'antd';\nconst { Title } = Typography;\n\nfunction MainImage(props) {\n\n    let { landing, genre } = props\n    if (landing) {\n        return (\n            <div\n                style={{\n                    background:\n                        `linear-gradient(to bottom, rgba(0,0,0,0)\n            39%,rgba(0,0,0,0)\n            41%,rgba(0,0,0,0.65)\n            100%),\n            url('${props.image}'), #1c1c1c`,\n                    height: '400px',\n                    backgroundSize: '100%, cover',\n                    backgroundPosition: 'center, center',\n                    backgroundPositionY: '9px',\n                    width: '100%',\n                    position: 'relative'\n                }}\n            >\n            </div>\n        )\n    } else {\n        if (genre) {\n            return (\n                <div\n                    style={{\n                        background:\n                            `linear-gradient(to bottom, rgba(0,0,0,0)\n            39%,rgba(0,0,0,0)\n            41%,rgba(0,0,0,0.65)\n            100%),\n            url('${props.image}'), #1c1c1c`,\n                        height: '400px',\n                        backgroundSize: '100%, cover',\n                        backgroundPosition: 'center, center',\n                        backgroundPositionY: '9px',\n                        width: '100%',\n                        position: 'relative'\n                    }}\n                >\n                    <div>\n                        <div style={{ backgroundColor: 'rgba(0, 0, 0, 0.5)', borderRadius: '10px', padding: '10px', position: 'absolute', maxWidth: '500px', bottom: '2rem', marginLeft: '2rem' }} >\n                            <Title style={{ color: 'white' }} level={2} > {props.genreName}</Title>\n                        </div>\n                    </div>\n                </div>\n            )\n        }\n    }\n}\n\nexport default MainImage\n","import React from 'react'\nimport { Col, Card, Badge } from 'antd';\nimport { IMAGE_BASE_URL } from '../Config';\nimport moment from 'moment';\nimport { useTranslation } from 'react-i18next';\n\nfunction GridCards(props) {\n\n    const { t } = useTranslation();\n    let { actor, movie, image, movieId, movieName, actorName, charName, date, vote, movieGenre } = props\n    const POSTER_SIZE = \"w154\";\n\n    const VoteColors = {\n        UNKNOWN: '#999',\n        BAD: '#cd5c5c',\n        OK: '#ffa500',\n        EXCELLENT: '#52c41a'\n    }\n\n    function getScoreColor(score) {\n        let color = VoteColors.EXCELLENT\n        if (!score || vote === 0) color = VoteColors.UNKNOWN\n        else if (score < 5.5) color = VoteColors.BAD\n        else if (score < 7) color = VoteColors.OK\n\n        return color\n    }\n\n    const BadgeColor = getScoreColor(vote)\n\n    const imageClick = () => {\n        return (window.location.href = \"/movie/\" + movieId)\n    }\n\n    if (actor !== undefined) {\n        return (\n            <Col lg={4} md={6} xs={24}>\n                <div style={{ position: 'relative', display: 'flex', justifyContent: 'center', alignItems: 'center' }}>\n                    <Card\n                        hoverable\n                        style={{ width: '100%' }}\n                        alt={movieName}\n                        cover={<img alt={actorName} src={image ? `${IMAGE_BASE_URL}${POSTER_SIZE}${image}` : 'https://res.cloudinary.com/dkyqbngya/image/upload/v1586537514/twdjio2duy8ebxulqwti.png'} />}\n                    >\n                        <h3 style={{ textAlign: \"center\", fontWeight: \"bold\" }}>{actorName}</h3>\n                        <h5 style={{ textAlign: \"center\", fontWeight: \"bold\" }}>{charName}</h5>\n                    </Card>\n                </div>\n            </Col>\n        )\n    } else {\n        if (movie !== undefined) {\n            return (\n                <Col lg={4} md={6} xs={24}>\n                    <div style={{ position: 'relative' }}>\n                        <Badge\n                            style={{ backgroundColor: BadgeColor }}\n                            offset={[-15, 15]}\n                            count={vote}>\n                                <Card className=\"posterCard\"\n                                    hoverable\n                                    style={{ width: '100%', height: '100%' }}\n                                    alt={movieName}\n                                    cover={<img onClick={() => imageClick()} alt={movieName} src={image ? `${image}` : t('landing.notAvail')} />}\n                                >\n                                    <a style={{ color: \"black\" }} href={`/movie/${movieId}`} ><div style={{ textAlign: \"center\", fontWeight: \"bold\" }}>{movieName} ({date ? moment(new Date(date)).format('YYYY') : 'N/A'})</div></a>\n                                    <br />\n                                    <div style={{ textAlign: \"center\" }}>{movieGenre}</div>\n                                </Card>\n                            </Badge>\n                    </div>\n                </Col>\n            )\n        }\n    }\n\n}\n\nexport default GridCards\n","import styled from 'styled-components';\n\nexport const StyledSearchBar = styled.div`\n  width: 100%;\n  height: 105px;\n  background: white;\n  padding: 25px 20px 0px 20px;\n  box-sizing: border-box;\n  color: black;\n`;\n\nexport const StyledSearchBarContent = styled.div`\n  max-width: 1280px;\n  width: 100%;\n  height: 55px;\n  background: white;\n  margin: 0 auto;\n  border-radius: 40px;\n  border: solid 0.5px black;\n  position: relative;\n  color: black;\n\n  .fa-search {\n    position: absolute;\n    left: 20px;\n    top: 12px;\n    color: black;\n    z-index: auto;\n  }\n\n  input {\n    font-family: 'Abel', sans-serif;\n    font-size: 28px;\n    position: absolute;\n    left: 0px;\n    margin: 8px 0;\n    padding: 0 0 0 60px;\n    border: 0;\n    width: 95%;\n    background: transparent;\n    height: 40px;\n    color: black;\n    box-sizing: border-box;\n\n    :focus {\n      outline: none;\n    }\n\n    @media screen and (max-width: 720px) {\n      font-size: 28px;\n    }\n  }\n`;\n\nexport default StyledSearchBar","import React, { useState, useRef } from 'react'\nimport { StyledSearchBar, StyledSearchBarContent } from './StyledSearchBar'\nimport { SearchOutlined } from '@ant-design/icons';\nimport PropTypes from 'prop-types';\nimport { useTranslation } from 'react-i18next';\n\nconst SearchBar = ({ callback }) => {\n\n  const { t } = useTranslation();\n  const [state, setState] = useState('')\n  const timeOut = useRef(null)\n  //controlled component\n\n  const doSearch = event => {\n    // console.log(event.target.value)\n    const { value } = event.target\n\n    clearTimeout(timeOut.current)\n    setState(value)\n\n    timeOut.current = setTimeout(() => {\n      callback(value)\n    }, 500)\n  }\n\n  return (\n    <StyledSearchBar>\n      <StyledSearchBarContent>\n        <SearchOutlined className=\"fa-search\" style={{ fontSize: '30px' }} />\n        <input\n          type=\"text\"\n          className=\"large\"\n          placeholder={t('landing.search')}\n          onChange={doSearch}\n          value={state}\n        />\n        <input\n          type=\"text\"\n          className=\"small\"\n          placeholder={t('landing.searchSmall')}\n          onChange={doSearch}\n          value={state}\n        />\n      </StyledSearchBarContent>\n    </StyledSearchBar>\n  )\n}\n\nSearchBar.propTypes = {\n  callback: PropTypes.func,\n}\nexport default SearchBar","import { useState, useEffect, useRef } from 'react'\nimport { API_URL, API_KEY } from '../../../../Config'\n\nconst CurrentLanguage = localStorage.getItem('language');\n\nconst date = new Date();\n\nfunction convertDate(date) {\n  const yyyy = date.getFullYear().toString();\n  const mm = (date.getMonth() + 1).toString();\n  const dd = date.getDate().toString();\n\n  const mmChars = mm.split('');\n  const ddChars = dd.split('');\n\n  return yyyy + '-' + (mmChars[1] ? mm : \"0\" + mmChars[0]) + '-' + (ddChars[1] ? dd : \"0\" + ddChars[0]);\n}\n\nexport const useFetchMovies = () => {\n  const [item, setItem] = useState({ Movies: [] })\n  const [loading, setLoading] = useState(true)\n  const [error, setError] = useState(false)\n  const [year, setYear] = useState('')\n  const [sort, setSort] = useState('popularity.desc')\n  const [rating, setRating] = useState({ min: 0, max: 10 });\n  const [yearRange, setYearRange] = useState({ min: 1980, max: 2022 });\n  const [genreID, setGenreID] = useState([]);\n  const selectEl = useRef(null);\n  const selectElPop = useRef(null);\n\n  const fetchMovies = async endpoint => {\n    setError(false)\n    setLoading(true)\n\n    const isLoadMore = endpoint.search('page')\n    try {\n      const result = await (await fetch(endpoint)).json()\n\n      setItem(prev => ({\n        ...prev,\n        Movies:\n          isLoadMore !== -1\n            ? [...prev.Movies, ...result.results]\n            : [...result.results],\n        CurrentPage: result.page,\n        totalPages: result.total_pages,\n      }))\n    } catch (error) {\n      setError(true)\n    }\n    setLoading(false)\n  }\n\n  const makeItYear = (event) => {\n    setYearRange({ min: 1980, max: 2022 })\n    setYear(event.target.value)\n    setLoading(false);\n  }\n\n  const makeItSort = (event) => {\n    setSort(event.target.value)\n    setLoading(false);\n  }\n\n  const onRatingSliderChange = (value) => {\n    setSort('popularity.desc')\n    setRating(value);\n    setLoading(false);\n  };\n\n  const onYearRangeSliderChange = (value) => {\n    setYear('');\n    selectEl.current.value = '';\n    setYearRange(value);\n    setLoading(false);\n  };\n\n\n  const handleGenre = (event) => {\n    setGenreID(event.target.value);\n    setLoading(false);\n  };\n\n  const clearFilters = () => {\n    selectEl.current.value = '';\n    selectElPop.current.value = 'popularity.desc';\n    setYear('')\n    setGenreID('')\n    setRating({ min: 0, max: 10 })\n    setYearRange({ min: 1980, max: 2020 })\n    setSort('popularity.desc')\n    setLoading(false);\n  }\n\n  useEffect(() => {\n    const CurrentLanguage = localStorage.getItem('language');\n    fetchMovies(`${API_URL}discover/movie?api_key=${API_KEY}&language=${CurrentLanguage}&vote_count.gte=2500&sort_by=${sort}&primary_release_year=${year}&vote_average.gte=${rating.min}&vote_average.lte=${rating.max}&primary_release_date.gte=${yearRange.min}-01-01&primary_release_date.lte=${yearRange.max === date.getFullYear() ? convertDate(date) : yearRange.max + '-12-31'}&with_genres=${genreID}`)\n// eslint-disable-next-line \n  }, [CurrentLanguage, year, sort, rating.min, rating.max, yearRange.min, yearRange.max, genreID])\n\n  return [{ item, loading, error, year, sort, rating, yearRange, genreID, selectEl, selectElPop }, fetchMovies, makeItYear, makeItSort, onRatingSliderChange, onYearRangeSliderChange, handleGenre, clearFilters]\n}","import React, { useState, useEffect, useRef } from 'react'\nimport { Typography, Row, Col, Button, Divider } from 'antd';\nimport { API_URL, API_KEY, IMAGE_BASE_URL, POSTER_SIZE, CurrentLanguage } from '../../Config'\nimport MainImage from './Sections/MainImage'\nimport GridCard from '../../commons/GridCards'\nimport { useTranslation } from 'react-i18next';\nimport SearchBar from './Sections/SearchBar';\nimport Spinner from './Sections/Spinner';\nimport { Link } from 'react-router-dom';\nimport { createFromIconfontCN } from '@ant-design/icons';\nimport InputRange from \"react-input-range\";\n\n//custom hook\nimport { useFetchMovies } from './Sections/hooks/useFetchMovies'\n\nconst { Title } = Typography;\n\nconst date = new Date();\n\nconst LandingPage = () => {\n\n    const [\n        { item: { Movies, CurrentPage, totalPages },\n            loading,\n            error,\n            year,\n            sort,\n            rating,\n            yearRange,\n            genreID,\n            selectEl,\n            selectElPop\n        },\n        fetchMovies,\n        makeItYear,\n        makeItSort,\n        onRatingSliderChange,\n        onYearRangeSliderChange,\n        handleGenre,\n        clearFilters\n    ] = useFetchMovies()\n    const [searchTerm, setSearchTerm] = useState('');\n    const [toggle, setToggle] = useState(false);\n    const buttonRef = useRef(null);\n    const { t } = useTranslation();\n\n    useEffect(() => {\n        window.addEventListener(\"scroll\", handleScroll);\n    }, [])\n\n    function convertDate(date) {\n        const yyyy = date.getFullYear().toString();\n        const mm = (date.getMonth() + 1).toString();\n        const dd = date.getDate().toString();\n\n        const mmChars = mm.split('');\n        const ddChars = dd.split('');\n\n        return yyyy + '-' + (mmChars[1] ? mm : \"0\" + mmChars[0]) + '-' + (ddChars[1] ? dd : \"0\" + ddChars[0]);\n    }\n\n    const genres = [\n        { id: 28, name: t('genre.Action') },\n        { id: 12, name: t('genre.Adventure') },\n        { id: 16, name: t('genre.Animation') },\n        { id: 35, name: t('genre.Comedy') },\n        { id: 80, name: t('genre.Crime') },\n        { id: 99, name: t('genre.Documentary') },\n        { id: 18, name: t('genre.Drama') },\n        { id: 10751, name: t('genre.Family') },\n        { id: 14, name: t('genre.Fantasy') },\n        { id: 36, name: t('genre.History') },\n        { id: 27, name: t('genre.Horror') },\n        { id: 10402, name: t('genre.Music') },\n        { id: 9648, name: t('genre.Mystery') },\n        { id: 10749, name: t('genre.Romance') },\n        { id: 878, name: t('genre.Sci-Fi') },\n        { id: 10770, name: t('genre.TV-Movie') },\n        { id: 53, name: t('genre.Thriller') },\n        { id: 10752, name: t('genre.War') },\n        { id: 37, name: t('genre.Western') },\n    ];\n\n    //search movies function \n    const searchMovies = search => {\n        const endpoint = search ? `${API_URL}search/movie?api_key=${API_KEY}&language=${CurrentLanguage}&query=` + search : `${API_URL}discover/movie?api_key=${API_KEY}&language=${CurrentLanguage}&vote_count.gte=2500&sort_by=${sort}&primary_release_year=${year}&primary_release_date.gte=${yearRange.min}-01-01&primary_release_date.lte=${yearRange.max === date.getFullYear() ? convertDate(date) : yearRange.max + '-12-31'}&with_genres=${genreID}`\n        setSearchTerm(search)\n        fetchMovies(endpoint)\n    }\n\n    //loadmoremovies function\n    const loadMoreMovies = () => {\n        const popularEndpoint = `${API_URL}discover/movie?api_key=${API_KEY}&language=${CurrentLanguage}&vote_count.gte=2500&sort_by=${sort}&primary_release_year=${year}&vote_average.gte=${rating.min}&vote_average.lte=${rating.max}&primary_release_date.gte=${yearRange.min}-01-01&primary_release_date.lte=${yearRange.max === date.getFullYear() ? convertDate(date) : yearRange.max + '-12-31'}&with_genres=${genreID}&page=${CurrentPage + 1}`;\n        const searchEndpoint = `${API_URL}search/movie?api_key=${API_KEY}&language=${CurrentLanguage}&query=${searchTerm}&page=${CurrentPage + 1}`\n        const endpoint = searchTerm ? searchEndpoint : popularEndpoint\n        fetchMovies(endpoint)\n    }\n\n    const handleScroll = e => {\n        const windowHeight =\n            'innerHeight' in window\n                ? window.innerHeight\n                : document.documentElement.offsetHeight;\n\n        const body = document.body;\n        const html = document.documentElement;\n\n        const docHeight = Math.max(\n            body.scrollHeight,\n            body.offsetHeight,\n            html.clientHeight,\n        );\n\n        const windowBottom = windowHeight + window.pageYOffset;\n\n        if (windowBottom >= docHeight - 1) {\n            buttonRef.current && buttonRef.current.click();\n        }\n    };\n\n    const toggleFilterBar = () => {\n        setToggle(!toggle)\n    }\n    const pickYear = new Date().getFullYear();\n\n    const MovieIcon = createFromIconfontCN({\n        scriptUrl: '//at.alicdn.com/t/font_1804216_tqdqw1tcevm.js',\n    });\n\n    if (error) return <div style={{ width: '100%', fontSize: '1.5rem', height: '200px', display: 'flex', flexDirection: 'column', justifyContent: 'center', alignItems: 'center' }}>Woops! Something went very wrong...</div>\n    return (\n        <div style={{ width: '100%', margin: '0' }}>\n            <MainImage landing\n                image={\"https://res.cloudinary.com/dkyqbngya/image/upload/v1586011642/czr9s0nxspurc9blgn9l.jpg\"}\n            />\n\n            <SearchBar callback={searchMovies} />\n\n            {/* Filters */}\n\n            <div style={{ display: 'flex', justifyContent: 'center' }}>\n                <Button type=\"primary\" shape=\"round\" onClick={toggleFilterBar} style={{ fontSize: '1rem' }}>{!toggle ? t('filters.showFilters') : t('filters.dontShowFilters')}</Button>\n            </div>\n\n            {toggle &&\n                <div style={{ width: '85%', margin: '1rem auto', justifyContent: 'center' }}>\n                    <br />\n                    <Row gutter={[8, 8]}>\n                        <Col span={12}>\n                            <form style={{ textAlign: 'center' }}>\n                                <label style={{ padding: \"10px\" }}><b>{t('filters.sortMovies')}:</b></label>\n                                <select name=\"sortBy\" onChange={makeItSort} ref={selectElPop}>\n                                    <option value=\"popularity.desc\">{t('filters.sortMovies')}</option>\n                                    <option value=\"primary_release_date.desc\">{t('filters.releaseYearHigh')}</option>\n                                    <option value=\"primary_release_date.asc\">{t('filters.releaseYearLow')}</option>\n                                    <option value=\"original_title.asc\">{t('filters.titleName')}</option>\n                                    <option value=\"vote_average.desc\">{t('filters.ratingHigh')}</option>\n                                    <option value=\"vote_average.asc\">{t('filters.ratingLow')}</option>\n                                </select>\n                            </form>\n                        </Col>\n                        <br />\n                        <Col span={12}>\n                            <div style={{ display: 'flex', justifyContent: 'center' }}>\n                                <p style={{ display: 'flex', justifyContent: 'center', paddingRight: '20px' }}><b>{t('filters.rating')}</b></p>\n                                <InputRange\n                                    className=\"input-range\"\n                                    maxValue={10}\n                                    minValue={0}\n                                    value={rating}\n                                    onChange={value => onRatingSliderChange(value)}\n                                />\n                            </div>\n                        </Col>\n                        <br />\n                    </Row>\n                    <Row gutter={[8, 8]}>\n                        <Col span={12}>\n                            <form style={{ textAlign: 'center' }}>\n                                <label style={{ padding: \"10px\" }}><b>{t('filters.sortYear')}:</b></label>\n                                <select onChange={makeItYear} ref={selectEl}>\n                                    <option value=\"\">{t('filters.year')}</option>\n                                    {Array.from(new Array(41), (value, i) =>\n                                        <option key={i} value={pickYear - i}>{pickYear - i}</option>\n                                    )}\n                                </select>\n                            </form>\n                        </Col>\n                        <Col span={12}>\n                            <div style={{ display: 'flex', justifyContent: 'center' }}>\n\n                                <p style={{ display: 'flex', justifyContent: 'center', paddingRight: '20px' }}><b>{t('filters.releaseYear')}</b></p>\n                                <InputRange\n                                    className=\"input-range\"\n                                    maxValue={2020}\n                                    minValue={1980}\n                                    value={yearRange}\n                                    onChange={value => onYearRangeSliderChange(value)}\n                                />\n                            </div>\n                        </Col>\n                    </Row>\n\n                    <Divider>Genres</Divider>\n                    <div style={{ textAlign: 'center' }}>\n                        {genres.map(\n                            genre =>\n                                <Button\n                                    key={genre.name}\n                                    shape=\"round\"\n                                    size=\"small\"\n                                    onClick={handleGenre}\n                                    value={genre.id}\n                                    style={{ borderColor: \"#19ba90\", textAlign: \"center\", fontSize: \"0.9em\", margin: \"1px\" }}\n                                >{genre.name}\n                                </Button>\n                        )}\n                    </div>\n\n                    <br />\n                    <div style={{ display: 'flex', justifyContent: 'flex-end' }}>\n                        <Button onClick={clearFilters}>{t('filters.clearFilters')}</Button>\n                    </div>\n\n                </div>\n            }\n\n            <div style={{ width: '85%', margin: '1rem auto' }}>\n\n\n                <React.Fragment>\n                    <Title level={2}><MovieIcon type=\"icon-movie3\" style={{ fontSize: \"35px\", paddingRight: \"10px\" }} />{searchTerm ? t('landing.searchRes') : t('landing.latest')}</Title>\n                    <hr />\n                    <br />\n                </React.Fragment>\n\n                <Row gutter={[16, 16]}>\n                    {Movies !== undefined && Movies[0] ? Movies && Movies.map((movie, index) => (\n                        <React.Fragment key={movie.id}>\n                            {movie && movie.poster_path && movie.release_date && movie.vote_count > 2300\n                                && movie.imdb_id !== null && movie.backdrop_path !== null && movie.overview !== null && (\n                                    <GridCard movie\n                                        image={movie.poster_path ? `${IMAGE_BASE_URL}${POSTER_SIZE}${movie.poster_path}` : t('landing.notAvail')}\n                                        movieId={movie.id}\n                                        movieName={movie.title}\n                                        date={movie.release_date}\n                                        vote={movie.vote_average ? movie.vote_average : 'N/A'}\n                                        movieGenre={movie.genre_ids &&\n                                            movie.genre_ids.length &&\n                                            movie.genre_ids.map(genreID => (\n                                                <span key={genreID}>\n                                                    {genres.map(\n                                                        genre =>\n                                                            genreID === genre.id && (\n                                                                <Link key={genre.name} to={`/landing/genre/${genre.name}/${genre.id}`}>\n                                                                    <Button\n                                                                        key={genre.name}\n                                                                        shape=\"round\"\n                                                                        size=\"small\"\n                                                                        style={{ borderColor: \"#19ba90\", textAlign: \"center\", fontSize: \"0.9em\", margin: \"1px\" }}\n                                                                    >{genre.name}\n                                                                    </Button>\n                                                                </Link>\n                                                            )\n                                                    )}\n                                                </span>\n                                            )).slice(0, 3)}\n                                    />\n                                )\n                            }\n                        </React.Fragment>\n                    )) : !Movies[0] && !loading && <div style={{ width: '100%', fontSize: '1.5rem', height: '200px', display: 'flex', flexDirection: 'column', justifyContent: 'center', alignItems: 'center' }}>{t(\"landing.noresults\")}</div>}\n                </Row>\n\n                {loading && <Spinner />}\n                {CurrentPage < totalPages && !loading && (\n                    <div style={{ display: 'flex', justifyContent: 'center' }}>\n                        <div ref={buttonRef} className=\"loadMore\" onClick={loadMoreMovies}>{t('landing.loadmore')}</div>\n                    </div>\n                )}\n\n\n\n            </div>\n        </div>\n    )\n}\n\nexport default LandingPage","import { useState, useEffect } from 'react';\nimport { useHistory } from 'react-router-dom';\nimport { API_URL, API_KEY } from '../../../Config'\n\nexport const useFetchByGenre = (genreId) => {\n    const [state, setState] = useState({ Movies: [] });\n    const [loading, setLoading] = useState(true);\n    const [error, setError] = useState(false);\n\n    const history = useHistory();\n\n    const fetchMoviesByGenre = async endpoint => {\n        setError(false);\n        setLoading(true);\n    \n        const isLoadMore = endpoint.search('page');\n    \n        try {\n          const result = await (await fetch(endpoint)).json();\n          if (result.results.length === 0) {\n            history.goBack();\n          }\n          const randomIndex = Math.floor(Math.random() * 20)\n          setState(prev => ({\n            ...prev,\n            Movies:\n              isLoadMore !== -1\n                ? [...prev.Movies, ...result.results]\n                : [...result.results],\n                MainMovieImage : prev.MainMovieImage || result.results[randomIndex],\n                CurrentPage: result.page,\n                totalPages: result.total_pages,\n          }));\n  \n        } catch (error) {\n          setError(true);\n          console.error(error);\n        }\n        setLoading(false);\n      };\n\n    useEffect(() => {\n      const CurrentLanguage = localStorage.getItem('language');\n      fetchMoviesByGenre(`${API_URL}discover/movie?api_key=${API_KEY}&language=${CurrentLanguage}&with_genres=${genreId}`)\n      // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [genreId]);\n\n    return [{ state, loading, error }, fetchMoviesByGenre]\n  }","import React, { useState, useRef, useEffect } from \"react\";\nimport { useParams } from \"react-router-dom\";\nimport { Typography, Row, Button } from \"antd\";\nimport {\n\tAPI_URL,\n\tAPI_KEY,\n\tIMAGE_BASE_URL,\n\tPOSTER_SIZE,\n\tIMAGE_SIZE,\n} from \"../../Config\";\nimport { useTranslation } from \"react-i18next\";\nimport MainImage from \"../../views/LandingPage/Sections/MainImage\";\nimport GridCard from \"../../commons/GridCards\";\nimport SearchBar from \"../LandingPage/Sections/SearchBar\";\nimport Spinner from \"../LandingPage/Sections/Spinner\";\nimport { Link } from \"react-router-dom\";\nimport { createFromIconfontCN } from \"@ant-design/icons\";\nimport { useHistory } from \"react-router-dom\";\n// Hooks\nimport { useFetchByGenre } from \"./hooks/useFetchByGenre\";\n\nconst { Title } = Typography;\n\nconst GenresPage = () => {\n\tlet { genreId, genreName, movieId } = useParams();\n\tconst [\n\t\t{\n\t\t\tstate: { Movies, MainMovieImage, CurrentPage, totalPages },\n\t\t\tloading,\n\t\t\terror,\n\t\t},\n\t\tfetchMoviesByGenre,\n\t] = useFetchByGenre(genreId);\n\tconst history = useHistory();\n\n\tconst handleClick = () => {\n\t\thistory.push(`/movie/${movieId}`);\n\t};\n\n\tconst [searchTerm, setSearchTerm] = useState(\"\");\n\tconst buttonRef = useRef(null);\n\tconst { t } = useTranslation();\n\n\tuseEffect(() => {\n\t\twindow.addEventListener(\"scroll\", handleScroll);\n\t}, []);\n\n\tconst genres = [\n\t\t{ id: 28, name: t(\"genre.Action\") },\n\t\t{ id: 12, name: t(\"genre.Adventure\") },\n\t\t{ id: 16, name: t(\"genre.Animation\") },\n\t\t{ id: 35, name: t(\"genre.Comedy\") },\n\t\t{ id: 80, name: t(\"genre.Crime\") },\n\t\t{ id: 99, name: t(\"genre.Documentary\") },\n\t\t{ id: 18, name: t(\"genre.Drama\") },\n\t\t{ id: 10751, name: t(\"genre.Family\") },\n\t\t{ id: 14, name: t(\"genre.Fantasy\") },\n\t\t{ id: 36, name: t(\"genre.History\") },\n\t\t{ id: 27, name: t(\"genre.Horror\") },\n\t\t{ id: 10402, name: t(\"genre.Music\") },\n\t\t{ id: 9648, name: t(\"genre.Mystery\") },\n\t\t{ id: 10749, name: t(\"genre.Romance\") },\n\t\t{ id: 878, name: t(\"genre.Sci-Fi\") },\n\t\t{ id: 10770, name: t(\"genre.TV-Movie\") },\n\t\t{ id: 53, name: t(\"genre.Thriller\") },\n\t\t{ id: 10752, name: t(\"genre.War\") },\n\t\t{ id: 37, name: t(\"genre.Western\") },\n\t];\n\n\tconst searchMovies = (search) => {\n\t\tconst endpoint = search\n\t\t\t? `${API_URL}search/movie?api_key=${API_KEY}&with_genres=${genreId}&query=` +\n\t\t\t  search\n\t\t\t: `${API_URL}discover/movie?api_key=${API_KEY}&with_genres=${genreId}`;\n\t\tsetSearchTerm(search);\n\t\tfetchMoviesByGenre(endpoint);\n\t};\n\n\tconst loadMoreMovies = () => {\n\t\tconst genresEndpoint = `${API_URL}discover/movie?api_key=${API_KEY}&with_genres=${genreId}&page=${\n\t\t\tCurrentPage + 1\n\t\t}`;\n\t\tconst searchEndpoint = `${API_URL}search/movie?api_key=${API_KEY}&with_genres=${genreId}&query=${searchTerm}&page=${\n\t\t\tCurrentPage + 1\n\t\t}`;\n\t\tconst endpoint = searchTerm ? searchEndpoint : genresEndpoint;\n\t\tfetchMoviesByGenre(endpoint);\n\t};\n\n\tconst handleScroll = (e) => {\n\t\tconst windowHeight =\n\t\t\t\"innerHeight\" in window\n\t\t\t\t? window.innerHeight\n\t\t\t\t: document.documentElement.offsetHeight;\n\n\t\tconst body = document.body;\n\t\tconst html = document.documentElement;\n\n\t\tconst docHeight = Math.max(\n\t\t\tbody.scrollHeight,\n\t\t\tbody.offsetHeight,\n\t\t\thtml.clientHeight\n\t\t);\n\n\t\tconst windowBottom = windowHeight + window.pageYOffset;\n\n\t\tif (windowBottom >= docHeight - 1) {\n\t\t\tbuttonRef.current && buttonRef.current.click();\n\t\t}\n\t};\n\n\tconst MovieIcon = createFromIconfontCN({\n\t\tscriptUrl: \"//at.alicdn.com/t/font_1804216_tqdqw1tcevm.js\",\n\t});\n\n\tif (error) return <div>Something went wrong...</div>;\n\treturn (\n\t\t<div style={{ width: \"100%\", margin: \"0\" }}>\n\t\t\t{!loading ? (\n\t\t\t\tMainMovieImage !== null && (\n\t\t\t\t\t<MainImage\n\t\t\t\t\t\tgenre\n\t\t\t\t\t\timage={\n\t\t\t\t\t\t\tMainMovieImage.backdrop_path\n\t\t\t\t\t\t\t\t? `${IMAGE_BASE_URL}${IMAGE_SIZE}${MainMovieImage.backdrop_path}`\n\t\t\t\t\t\t\t\t: \"https://res.cloudinary.com/dkyqbngya/image/upload/v1586787757/detykqycj7ejezsjmxln.png\"\n\t\t\t\t\t\t}\n\t\t\t\t\t\tgenreName={genreName}\n\t\t\t\t\t/>\n\t\t\t\t)\n\t\t\t) : (\n\t\t\t\t<div>\n\t\t\t\t\t<Spinner />\n\t\t\t\t</div>\n\t\t\t)}\n\n\t\t\t<SearchBar callback={searchMovies} />\n\n\t\t\t<div style={{ display: \"flex\", justifyContent: \"center\" }}>\n\t\t\t\t<Button type=\"primary\" shape=\"round\" style={{ fontSize: \"1rem\" }}>\n\t\t\t\t\t<a href=\"/landing\">{t(\"genre.landing\")}</a>\n\t\t\t\t</Button>\n\t\t\t</div>\n\n\t\t\t<div style={{ width: \"85%\", margin: \"1rem auto\" }}>\n\t\t\t\t{!loading ? (\n\t\t\t\t\t<React.Fragment>\n\t\t\t\t\t\t<Title level={2}>\n\t\t\t\t\t\t\t<MovieIcon\n\t\t\t\t\t\t\t\ttype=\"icon-movie3\"\n\t\t\t\t\t\t\t\tstyle={{ fontSize: \"35px\", paddingRight: \"10px\" }}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t{searchTerm ? t(\"landing.searchRes\") : genreName}\n\t\t\t\t\t\t</Title>\n\t\t\t\t\t\t<hr />\n\t\t\t\t\t\t<br />\n\t\t\t\t\t</React.Fragment>\n\t\t\t\t) : null}\n\n\t\t\t\t<Row gutter={[16, 16]}>\n\t\t\t\t\t{Movies[0]\n\t\t\t\t\t\t? Movies &&\n\t\t\t\t\t\t  Movies.map((movie, index) => (\n\t\t\t\t\t\t\t\t<React.Fragment key={movie.id}>\n\t\t\t\t\t\t\t\t\t{movie &&\n\t\t\t\t\t\t\t\t\t\tmovie.poster_path &&\n\t\t\t\t\t\t\t\t\t\tmovie.release_date &&\n\t\t\t\t\t\t\t\t\t\tmovie.vote_count > 2300 &&\n\t\t\t\t\t\t\t\t\t\tmovie.imdb_id !== null &&\n\t\t\t\t\t\t\t\t\t\tmovie.backdrop_path !== null &&\n\t\t\t\t\t\t\t\t\t\tmovie.overview !== null && (\n\t\t\t\t\t\t\t\t\t\t\t<GridCard\n\t\t\t\t\t\t\t\t\t\t\t\tmovie\n\t\t\t\t\t\t\t\t\t\t\t\tonClick={handleClick}\n\t\t\t\t\t\t\t\t\t\t\t\timage={\n\t\t\t\t\t\t\t\t\t\t\t\t\tmovie.poster_path\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t? `${IMAGE_BASE_URL}${POSTER_SIZE}${movie.poster_path}`\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t: t(\"landing.notAvail\")\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\tmovieId={movie.id}\n\t\t\t\t\t\t\t\t\t\t\t\tmovieName={movie.title}\n\t\t\t\t\t\t\t\t\t\t\t\tdate={movie.release_date}\n\t\t\t\t\t\t\t\t\t\t\t\tvote={movie.vote_average ? movie.vote_average : \"N/A\"}\n\t\t\t\t\t\t\t\t\t\t\t\tmovieGenre={\n\t\t\t\t\t\t\t\t\t\t\t\t\tmovie.genre_ids &&\n\t\t\t\t\t\t\t\t\t\t\t\t\tmovie.genre_ids.length &&\n\t\t\t\t\t\t\t\t\t\t\t\t\tmovie.genre_ids\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t.map((genreID) => (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<span key={genreID}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{genres.map(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t(genre) =>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tgenreID === genre.id && (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Link\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tkey={genre.name}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tto={`/landing/genre/${genre.name}/${genre.id}`}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tkey={genre.name}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tshape=\"round\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tborderColor: \"#19ba90\",\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttextAlign: \"center\",\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tfontSize: \"0.9em\",\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tmargin: \"1px\",\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{genre.name}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t))\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t.slice(0, 3)\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t</React.Fragment>\n\t\t\t\t\t\t  ))\n\t\t\t\t\t\t: !Movies[0] &&\n\t\t\t\t\t\t  !loading && (\n\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\t\t\twidth: \"100%\",\n\t\t\t\t\t\t\t\t\t\tfontSize: \"1.5rem\",\n\t\t\t\t\t\t\t\t\t\theight: \"200px\",\n\t\t\t\t\t\t\t\t\t\tdisplay: \"flex\",\n\t\t\t\t\t\t\t\t\t\tflexDirection: \"column\",\n\t\t\t\t\t\t\t\t\t\tjustifyContent: \"center\",\n\t\t\t\t\t\t\t\t\t\talignItems: \"center\",\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{t(\"landing.noresults\")}\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t  )}\n\t\t\t\t</Row>\n\n\t\t\t\t{loading && <Spinner />}\n\t\t\t\t{CurrentPage < totalPages && !loading && (\n\t\t\t\t\t<div style={{ display: \"flex\", justifyContent: \"center\" }}>\n\t\t\t\t\t\t<div ref={buttonRef} className=\"loadMore\" onClick={loadMoreMovies}>\n\t\t\t\t\t\t\t{t(\"landing.loadmore\")}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t)}\n\t\t\t</div>\n\t\t</div>\n\t);\n};\n\nexport default GenresPage;\n","import React, { useState } from \"react\";\nimport { withRouter } from \"react-router-dom\";\nimport { loginUser } from \"../../../_actions/user_actions\";\nimport { Formik } from \"formik\";\nimport * as Yup from \"yup\";\nimport { Form, Input, Button, Checkbox, Typography } from \"antd\";\nimport { UserOutlined, LockOutlined } from \"@ant-design/icons\";\nimport { useDispatch } from \"react-redux\";\nimport { useTranslation } from \"react-i18next\";\n\nconst { Title } = Typography;\n\nfunction LoginPage(props) {\n\tconst { t } = useTranslation();\n\tconst dispatch = useDispatch();\n\tconst rememberMeChecked = localStorage.getItem(\"rememberMe\") ? true : false;\n\n\tconst [formErrorMessage, setFormErrorMessage] = useState(\"\");\n\tconst [rememberMe, setRememberMe] = useState(rememberMeChecked);\n\n\tconst handleRememberMe = () => {\n\t\tsetRememberMe(!rememberMe);\n\t};\n\n\treturn (\n\t\t<Formik\n\t\t\tinitialValues={{\n\t\t\t\tusername: \"\",\n\t\t\t\tpassword: \"\",\n\t\t\t}}\n\t\t\tvalidationSchema={Yup.object().shape({\n\t\t\t\tusername: Yup.string()\n\t\t\t\t\t.min(2, t(\"login.usernameErr\"))\n\t\t\t\t\t.required(t(\"login.usernameErr2\")),\n\t\t\t\tpassword: Yup.string()\n\t\t\t\t\t.min(8, t(\"login.passwordErr\"))\n\t\t\t\t\t.required(t(\"login.passwordErr2\")),\n\t\t\t})}\n\t\t\tonSubmit={(values, { setSubmitting }) => {\n\t\t\t\tsetTimeout(() => {\n\t\t\t\t\tlet dataToSubmit = {\n\t\t\t\t\t\tusername: values.username,\n\t\t\t\t\t\tpassword: values.password,\n\t\t\t\t\t};\n\n\t\t\t\t\tdispatch(loginUser(dataToSubmit))\n\t\t\t\t\t\t.then((response) => {\n\t\t\t\t\t\t\tif (response.payload.loginSuccess) {\n\t\t\t\t\t\t\t\tprops.history.push(\"/landing\");\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tsetFormErrorMessage(t(\"login.formErr\"));\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t})\n\t\t\t\t\t\t.catch((err) => {\n\t\t\t\t\t\t\tsetFormErrorMessage(t(\"login.formErr\"));\n\t\t\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\t\t\tsetFormErrorMessage(\"\");\n\t\t\t\t\t\t\t}, 3000);\n\t\t\t\t\t\t});\n\t\t\t\t\tsetSubmitting(false);\n\t\t\t\t}, 500);\n\t\t\t}}\n\t\t>\n\t\t\t{(props) => {\n\t\t\t\tconst {\n\t\t\t\t\tvalues,\n\t\t\t\t\ttouched,\n\t\t\t\t\terrors,\n\t\t\t\t\tisSubmitting,\n\t\t\t\t\thandleChange,\n\t\t\t\t\thandleBlur,\n\t\t\t\t\thandleSubmit,\n\t\t\t\t} = props;\n\t\t\t\treturn (\n\t\t\t\t\t<div className=\"loginbg\">\n\t\t\t\t\t\t<div className=\"login\">\n\t\t\t\t\t\t\t<Title level={3} style={{ textAlign: \"center\" }}>\n\t\t\t\t\t\t\t\t{t(\"login.login\")}\n\t\t\t\t\t\t\t</Title>\n\t\t\t\t\t\t\t<form onSubmit={handleSubmit}>\n\t\t\t\t\t\t\t\t<Form.Item required>\n\t\t\t\t\t\t\t\t\t<Input\n\t\t\t\t\t\t\t\t\t\tid=\"username\"\n\t\t\t\t\t\t\t\t\t\tprefix={\n\t\t\t\t\t\t\t\t\t\t\t<UserOutlined style={{ color: \"rgba(0,0,0,.25)\" }} />\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\tplaceholder={t(\"login.username\")}\n\t\t\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t\t\t\tvalue={values.username}\n\t\t\t\t\t\t\t\t\t\tonChange={handleChange}\n\t\t\t\t\t\t\t\t\t\tonBlur={handleBlur}\n\t\t\t\t\t\t\t\t\t\tclassName={\n\t\t\t\t\t\t\t\t\t\t\terrors.username && touched.username\n\t\t\t\t\t\t\t\t\t\t\t\t? \"text-input error\"\n\t\t\t\t\t\t\t\t\t\t\t\t: \"text-input\"\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t{errors.username && touched.username && (\n\t\t\t\t\t\t\t\t\t\t<div className=\"input-feedback\">{errors.username}</div>\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t</Form.Item>\n\n\t\t\t\t\t\t\t\t<Form.Item required>\n\t\t\t\t\t\t\t\t\t<Input\n\t\t\t\t\t\t\t\t\t\tid=\"password\"\n\t\t\t\t\t\t\t\t\t\tprefix={\n\t\t\t\t\t\t\t\t\t\t\t<LockOutlined style={{ color: \"rgba(0,0,0,.25)\" }} />\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\tplaceholder={t(\"login.password\")}\n\t\t\t\t\t\t\t\t\t\ttype=\"password\"\n\t\t\t\t\t\t\t\t\t\tautoComplete=\"off\"\n\t\t\t\t\t\t\t\t\t\tvalue={values.password}\n\t\t\t\t\t\t\t\t\t\tonChange={handleChange}\n\t\t\t\t\t\t\t\t\t\tonBlur={handleBlur}\n\t\t\t\t\t\t\t\t\t\tclassName={\n\t\t\t\t\t\t\t\t\t\t\terrors.password && touched.password\n\t\t\t\t\t\t\t\t\t\t\t\t? \"text-input error\"\n\t\t\t\t\t\t\t\t\t\t\t\t: \"text-input\"\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t{errors.password && touched.password && (\n\t\t\t\t\t\t\t\t\t\t<div className=\"input-feedback\">{errors.password}</div>\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t</Form.Item>\n\n\t\t\t\t\t\t\t\t{formErrorMessage && (\n\t\t\t\t\t\t\t\t\t<label>\n\t\t\t\t\t\t\t\t\t\t<p\n\t\t\t\t\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\t\t\t\t\tcolor: \"#ff0000bf\",\n\t\t\t\t\t\t\t\t\t\t\t\ttextAlign: \"center\",\n\t\t\t\t\t\t\t\t\t\t\t\tfontSize: \"0.8rem\",\n\t\t\t\t\t\t\t\t\t\t\t\tborder: \"1px solid\",\n\t\t\t\t\t\t\t\t\t\t\t\tpadding: \"0.5rem\",\n\t\t\t\t\t\t\t\t\t\t\t\tborderRadius: \"10px\",\n\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t{formErrorMessage}\n\t\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t</label>\n\t\t\t\t\t\t\t\t)}\n\n\t\t\t\t\t\t\t\t<Form.Item>\n\t\t\t\t\t\t\t\t\t<Checkbox\n\t\t\t\t\t\t\t\t\t\tid=\"rememberMe\"\n\t\t\t\t\t\t\t\t\t\tonChange={handleRememberMe}\n\t\t\t\t\t\t\t\t\t\tchecked={rememberMe}\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t{t(\"login.remember\")}\n\t\t\t\t\t\t\t\t\t</Checkbox>\n\t\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t\t\ttype=\"primary\"\n\t\t\t\t\t\t\t\t\t\t\thtmlType=\"submit\"\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"login-form-button\"\n\t\t\t\t\t\t\t\t\t\t\tstyle={{ minWidth: \"100%\" }}\n\t\t\t\t\t\t\t\t\t\t\tdisabled={isSubmitting}\n\t\t\t\t\t\t\t\t\t\t\tonSubmit={handleSubmit}\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t{t(\"login.login\")}\n\t\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\tOr <a href=\"/register\">{t(\"login.registernow\")}</a>\n\t\t\t\t\t\t\t\t</Form.Item>\n\t\t\t\t\t\t\t</form>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t);\n\t\t\t}}\n\t\t</Formik>\n\t);\n}\n\nexport default withRouter(LoginPage);\n","import React, { useState } from \"react\";\nimport axios from \"axios\";\nimport { Formik } from \"formik\";\nimport * as Yup from \"yup\";\nimport { registerUser } from \"../../../_actions/user_actions\";\nimport { useDispatch } from \"react-redux\";\nimport { message } from \"antd\";\nimport Spinner from \"../LandingPage/Sections/Spinner\";\nimport { useTranslation } from \"react-i18next\";\nimport { store } from \"react-notifications-component\";\nimport { Form, Input, Button } from \"antd\";\n\nconst formItemLayout = {\n\tlabelCol: {\n\t\txs: { span: 24 },\n\t\tsm: { span: 8 },\n\t},\n\twrapperCol: {\n\t\txs: { span: 24 },\n\t\tsm: { span: 16 },\n\t},\n};\nconst tailFormItemLayout = {\n\twrapperCol: {\n\t\txs: {\n\t\t\tspan: 24,\n\t\t\toffset: 0,\n\t\t},\n\t\tsm: {\n\t\t\tspan: 16,\n\t\t\toffset: 8,\n\t\t},\n\t},\n};\n\nfunction RegisterPage(props) {\n\tconst { t } = useTranslation();\n\n\tconst [image, setImage] = useState(\"\");\n\tconst [loading, setLoading] = useState(false);\n\tconst [content, setContent] = React.useState(\"\");\n\tconst imageInputRef = React.useRef();\n\tvar allowedTypes = [\"jpg\", \"jpeg\", \"png\", \"gif\"];\n\n\tconst uploadImage = (e) => {\n\t\te.preventDefault();\n\t\tsetContent(e.target.value);\n\t\tconst files = e.target.files[0];\n\t\tconst cloudName = \"dkyqbngya\";\n\t\tconst unsignedUploadPreset = \"f7r0dz2t\";\n\t\tvar url = `https://api.cloudinary.com/v1_1/${cloudName}/image/upload`;\n\t\tif (!files || files.length === 0) return;\n\t\tif (files) {\n\t\t\tvar extension = files.name.replace(/.*\\./, \"\").toLowerCase();\n\t\t\tif (allowedTypes.indexOf(extension) < 0) {\n\t\t\t\tmessage.error(`${files.type}${t(\"register.imgFormat\")}`);\n\t\t\t\timageInputRef.current.value = \"\";\n\t\t\t\tsetContent(\"\");\n\t\t\t\tsetImage(\"\");\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (files.size > 150000) {\n\t\t\t\tmessage.error(`${files.name}${t(\"register.imgTooLarge\")}`);\n\t\t\t\timageInputRef.current.value = \"\";\n\t\t\t\tsetContent(\"\");\n\t\t\t\tsetImage(\"\");\n\t\t\t\treturn;\n\t\t\t} else {\n\t\t\t\tvar fd = new FormData();\n\t\t\t\tfd.append(\"file\", files);\n\t\t\t\tfd.append(\"upload_preset\", unsignedUploadPreset);\n\t\t\t\tsetLoading(true);\n\t\t\t\tconst config = {\n\t\t\t\t\theaders: { \"X-Requested-With\": \"XMLHttpRequest\" },\n\t\t\t\t};\n\t\t\t\taxios\n\t\t\t\t\t.post(url, fd, config)\n\t\t\t\t\t.then((res) => {\n\t\t\t\t\t\tsetLoading(false);\n\t\t\t\t\t\tvar url = res.data.secure_url;\n\t\t\t\t\t\tvar resize = url.split(\"/\");\n\t\t\t\t\t\tresize.splice(-3, 0, \"w_125,c_scale\");\n\t\t\t\t\t\tvar img = new Image();\n\t\t\t\t\t\timg.src = resize.join(\"/\");\n\t\t\t\t\t\tsetImage(img.src);\n\t\t\t\t\t})\n\t\t\t\t\t.catch((err) => {\n\t\t\t\t\t\tif (err) {\n\t\t\t\t\t\t\tswitch (err.response.status) {\n\t\t\t\t\t\t\t\tcase 400:\n\t\t\t\t\t\t\t\t\tmessage.error(t(\"register.imgInvalid\"));\n\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\tcase 404:\n\t\t\t\t\t\t\t\t\tmessage.error(t(\"register.imgNotFound\"));\n\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\tcase 500:\n\t\t\t\t\t\t\t\t\tmessage.error(t(\"register.imgError\"));\n\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\tdefault:\n\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t}\n\t\t}\n\t};\n\n\tconst dispatch = useDispatch();\n\treturn (\n\t\t<Formik\n\t\t\tinitialValues={{\n\t\t\t\temail: \"\",\n\t\t\t\tfirstName: \"\",\n\t\t\t\tlastName: \"\",\n\t\t\t\tusername: \"\",\n\t\t\t\tpassword: \"\",\n\t\t\t\tconfirmPassword: \"\",\n\t\t\t\timage: \"\",\n\t\t\t}}\n\t\t\tvalidationSchema={Yup.object().shape({\n\t\t\t\tusername: Yup.string()\n\t\t\t\t\t.required(t(\"register.usernameErr\"))\n\t\t\t\t\t.matches(/^[A-Za-z0-9_]{2,20}$/, t(\"register.usernameRules\"))\n\t\t\t\t\t.min(2, t(\"register.usernameMin\"))\n\t\t\t\t\t.max(20, t(\"register.usernameMax\")),\n\t\t\t\tfirstName: Yup.string()\n\t\t\t\t\t.required(t(\"register.firstNameErr\"))\n\t\t\t\t\t.matches(/^[A-Z]+$/i, t(\"register.firstNameAlpha\"))\n\t\t\t\t\t.min(2, t(\"register.firstNameMin\"))\n\t\t\t\t\t.max(20, t(\"register.firstNameMax\")),\n\t\t\t\tlastName: Yup.string()\n\t\t\t\t\t.required(t(\"register.lastNameErr\"))\n\t\t\t\t\t.matches(/^[A-Z]+$/i, t(\"register.lastNameAlpha\"))\n\t\t\t\t\t.min(2, t(\"register.lastNameMin\"))\n\t\t\t\t\t.max(20, t(\"register.lastNameMax\")),\n\t\t\t\temail: Yup.string()\n\t\t\t\t\t.email(t(\"register.emailInvalid\"))\n\t\t\t\t\t.required(t(\"register.emailErr\")),\n\t\t\t\tpassword: Yup.string()\n\t\t\t\t\t.min(8, t(\"register.passwordMin\"))\n\t\t\t\t\t.max(15, t(\"register.passwordMax\"))\n\t\t\t\t\t.required(t(\"register.passwordErr\")),\n\t\t\t\tconfirmPassword: Yup.string()\n\t\t\t\t\t.oneOf([Yup.ref(\"password\"), null], t(\"register.passwordMatch\"))\n\t\t\t\t\t.required(t(\"register.cpasswordErr\")),\n\t\t\t})}\n\t\t\tonSubmit={(values, { setSubmitting }) => {\n\t\t\t\tsetTimeout(() => {\n\t\t\t\t\tlet dataToSubmit = {\n\t\t\t\t\t\temail: values.email,\n\t\t\t\t\t\tpassword: values.password,\n\t\t\t\t\t\tusername: values.username,\n\t\t\t\t\t\tfirstName: values.firstName,\n\t\t\t\t\t\tlastName: values.lastName,\n\t\t\t\t\t\timage: image,\n\t\t\t\t\t};\n\n\t\t\t\t\tif (!image || image === \"\") {\n\t\t\t\t\t\tmessage.error(t(\"register.imageErr\"));\n\t\t\t\t\t} else {\n\t\t\t\t\t\tdispatch(registerUser(dataToSubmit)).then((response) => {\n\t\t\t\t\t\t\tif (response.payload.success) {\n\t\t\t\t\t\t\t\tprops.history.push(\"/login\");\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\talert(response.payload.err);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t\tsetSubmitting(false);\n\t\t\t\t}, 500);\n\t\t\t}}\n\t\t>\n\t\t\t{(props) => {\n\t\t\t\tconst {\n\t\t\t\t\tvalues,\n\t\t\t\t\ttouched,\n\t\t\t\t\terrors,\n\t\t\t\t\tisSubmitting,\n\t\t\t\t\thandleChange,\n\t\t\t\t\thandleBlur,\n\t\t\t\t\thandleSubmit,\n\t\t\t\t} = props;\n\t\t\t\treturn (\n\t\t\t\t\t<div className=\"registerbg\">\n\t\t\t\t\t\t<div className=\"register\">\n\t\t\t\t\t\t\t<h1 style={{ textAlign: \"center\" }}>{t(\"register.signup\")}</h1>\n\t\t\t\t\t\t\t<Form\n\t\t\t\t\t\t\t\tstyle={{ minWidth: \"375px\" }}\n\t\t\t\t\t\t\t\t{...formItemLayout}\n\t\t\t\t\t\t\t\tonSubmit={handleSubmit}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<Form.Item required label={t(\"register.username\")}>\n\t\t\t\t\t\t\t\t\t<Input\n\t\t\t\t\t\t\t\t\t\tid=\"username\"\n\t\t\t\t\t\t\t\t\t\tplaceholder={t(\"register.usernameForm\")}\n\t\t\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t\t\t\tautoComplete=\"username\"\n\t\t\t\t\t\t\t\t\t\tvalue={values.username}\n\t\t\t\t\t\t\t\t\t\tonChange={handleChange}\n\t\t\t\t\t\t\t\t\t\tonBlur={handleBlur}\n\t\t\t\t\t\t\t\t\t\tclassName={\n\t\t\t\t\t\t\t\t\t\t\terrors.username && touched.username\n\t\t\t\t\t\t\t\t\t\t\t\t? \"text-input error\"\n\t\t\t\t\t\t\t\t\t\t\t\t: \"text-input\"\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t{errors.username && touched.username && (\n\t\t\t\t\t\t\t\t\t\t<div className=\"input-feedback\">{errors.username}</div>\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t</Form.Item>\n\n\t\t\t\t\t\t\t\t<Form.Item required label={t(\"register.firstName\")}>\n\t\t\t\t\t\t\t\t\t<Input\n\t\t\t\t\t\t\t\t\t\tid=\"firstName\"\n\t\t\t\t\t\t\t\t\t\tplaceholder={t(\"register.firstNameForm\")}\n\t\t\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t\t\t\tvalue={values.firstName}\n\t\t\t\t\t\t\t\t\t\tonChange={handleChange}\n\t\t\t\t\t\t\t\t\t\tonBlur={handleBlur}\n\t\t\t\t\t\t\t\t\t\tclassName={\n\t\t\t\t\t\t\t\t\t\t\terrors.firstName && touched.firstName\n\t\t\t\t\t\t\t\t\t\t\t\t? \"text-input error\"\n\t\t\t\t\t\t\t\t\t\t\t\t: \"text-input\"\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t{errors.firstName && touched.firstName && (\n\t\t\t\t\t\t\t\t\t\t<div className=\"input-feedback\">{errors.firstName}</div>\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t</Form.Item>\n\n\t\t\t\t\t\t\t\t<Form.Item required label={t(\"register.lastName\")}>\n\t\t\t\t\t\t\t\t\t<Input\n\t\t\t\t\t\t\t\t\t\tid=\"lastName\"\n\t\t\t\t\t\t\t\t\t\tplaceholder={t(\"register.lastNameForm\")}\n\t\t\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t\t\t\tvalue={values.lastName}\n\t\t\t\t\t\t\t\t\t\tonChange={handleChange}\n\t\t\t\t\t\t\t\t\t\tonBlur={handleBlur}\n\t\t\t\t\t\t\t\t\t\tclassName={\n\t\t\t\t\t\t\t\t\t\t\terrors.lastName && touched.lastName\n\t\t\t\t\t\t\t\t\t\t\t\t? \"text-input error\"\n\t\t\t\t\t\t\t\t\t\t\t\t: \"text-input\"\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t{errors.lastName && touched.lastName && (\n\t\t\t\t\t\t\t\t\t\t<div className=\"input-feedback\">{errors.lastName}</div>\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t</Form.Item>\n\n\t\t\t\t\t\t\t\t<Form.Item required label={t(\"register.email\")}>\n\t\t\t\t\t\t\t\t\t<Input\n\t\t\t\t\t\t\t\t\t\tid=\"email\"\n\t\t\t\t\t\t\t\t\t\tplaceholder={t(\"register.emailForm\")}\n\t\t\t\t\t\t\t\t\t\ttype=\"email\"\n\t\t\t\t\t\t\t\t\t\tautoComplete=\"email\"\n\t\t\t\t\t\t\t\t\t\tvalue={values.email}\n\t\t\t\t\t\t\t\t\t\tonChange={handleChange}\n\t\t\t\t\t\t\t\t\t\tonBlur={handleBlur}\n\t\t\t\t\t\t\t\t\t\tclassName={\n\t\t\t\t\t\t\t\t\t\t\terrors.email && touched.email\n\t\t\t\t\t\t\t\t\t\t\t\t? \"text-input error\"\n\t\t\t\t\t\t\t\t\t\t\t\t: \"text-input\"\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t{errors.email && touched.email && (\n\t\t\t\t\t\t\t\t\t\t<div className=\"input-feedback\">{errors.email}</div>\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t</Form.Item>\n\n\t\t\t\t\t\t\t\t<Form.Item\n\t\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t\t\tlabel={t(\"register.password\")}\n\t\t\t\t\t\t\t\t\thasFeedback\n\t\t\t\t\t\t\t\t\tvalidateStatus={\n\t\t\t\t\t\t\t\t\t\terrors.password && touched.password ? \"error\" : \"success\"\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<Input\n\t\t\t\t\t\t\t\t\t\tid=\"password\"\n\t\t\t\t\t\t\t\t\t\tplaceholder={t(\"register.passwordForm\")}\n\t\t\t\t\t\t\t\t\t\ttype=\"password\"\n\t\t\t\t\t\t\t\t\t\tautoComplete=\"new-password\"\n\t\t\t\t\t\t\t\t\t\tvalue={values.password}\n\t\t\t\t\t\t\t\t\t\tonChange={handleChange}\n\t\t\t\t\t\t\t\t\t\tonBlur={handleBlur}\n\t\t\t\t\t\t\t\t\t\tclassName={\n\t\t\t\t\t\t\t\t\t\t\terrors.password && touched.password\n\t\t\t\t\t\t\t\t\t\t\t\t? \"text-input error\"\n\t\t\t\t\t\t\t\t\t\t\t\t: \"text-input\"\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t{errors.password && touched.password && (\n\t\t\t\t\t\t\t\t\t\t<div className=\"input-feedback\">{errors.password}</div>\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t</Form.Item>\n\n\t\t\t\t\t\t\t\t<Form.Item\n\t\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t\t\tlabel={t(\"register.cpassword\")}\n\t\t\t\t\t\t\t\t\thasFeedback\n\t\t\t\t\t\t\t\t\tvalidateStatus={\n\t\t\t\t\t\t\t\t\t\terrors.cpassword && touched.cpassword ? \"error\" : \"success\"\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<Input\n\t\t\t\t\t\t\t\t\t\tid=\"confirmPassword\"\n\t\t\t\t\t\t\t\t\t\tplaceholder={t(\"register.cpasswordForm\")}\n\t\t\t\t\t\t\t\t\t\ttype=\"password\"\n\t\t\t\t\t\t\t\t\t\tautoComplete=\"new-password\"\n\t\t\t\t\t\t\t\t\t\tvalue={values.confirmPassword}\n\t\t\t\t\t\t\t\t\t\tonChange={handleChange}\n\t\t\t\t\t\t\t\t\t\tonBlur={handleBlur}\n\t\t\t\t\t\t\t\t\t\tclassName={\n\t\t\t\t\t\t\t\t\t\t\terrors.confirmPassword && touched.confirmPassword\n\t\t\t\t\t\t\t\t\t\t\t\t? \"text-input error\"\n\t\t\t\t\t\t\t\t\t\t\t\t: \"text-input\"\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t{errors.confirmPassword && touched.confirmPassword && (\n\t\t\t\t\t\t\t\t\t\t<div className=\"input-feedback\">\n\t\t\t\t\t\t\t\t\t\t\t{errors.confirmPassword}\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t</Form.Item>\n\n\t\t\t\t\t\t\t\t<Form.Item required label={t(\"register.image\")}>\n\t\t\t\t\t\t\t\t\t<Input\n\t\t\t\t\t\t\t\t\t\tid=\"image\"\n\t\t\t\t\t\t\t\t\t\ttype=\"file\"\n\t\t\t\t\t\t\t\t\t\tname=\"image\"\n\t\t\t\t\t\t\t\t\t\taccept={\"image/*\"}\n\t\t\t\t\t\t\t\t\t\tonChange={uploadImage}\n\t\t\t\t\t\t\t\t\t\tonBlur={handleBlur}\n\t\t\t\t\t\t\t\t\t\tvalue={content}\n\t\t\t\t\t\t\t\t\t\tref={imageInputRef}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t<div name=\"image\" className=\"imagePreview\">\n\t\t\t\t\t\t\t\t\t\t{loading ? <Spinner /> : <img src={image} alt=\"\" />}\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</Form.Item>\n\n\t\t\t\t\t\t\t\t<Form.Item {...tailFormItemLayout}>\n\t\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t\tonClick={handleSubmit}\n\t\t\t\t\t\t\t\t\t\ttype=\"primary\"\n\t\t\t\t\t\t\t\t\t\tdisabled={isSubmitting}\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t{t(\"register.submit\")}\n\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t</Form.Item>\n\t\t\t\t\t\t\t</Form>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t);\n\t\t\t}}\n\t\t</Formik>\n\t);\n}\n\nexport default RegisterPage;\n","export default __webpack_public_path__ + \"static/media/logo1.a705a284.png\";","import React from \"react\";\nimport { useSelector } from \"react-redux\";\nimport { createFromIconfontCN } from \"@ant-design/icons\";\nimport { useTranslation } from \"react-i18next\";\nimport Logo from \"../../../../assets/logo1.png\";\n\nimport \"./Navbar.css\";\n\nconst PopcornIcon = createFromIconfontCN({\n\tscriptUrl: \"//at.alicdn.com/t/font_1804216_05evm2uwptc9.js\",\n});\n\nfunction LeftMenu(props) {\n\tconst { t } = useTranslation();\n\n\tconst user = useSelector((state) => state.user);\n\n\tif (user.userData && !user.userData.isAuth) {\n\t\treturn (\n\t\t\t<div className=\"menu__logo\">\n\t\t\t\t<a href=\"/\">\n\t\t\t\t\t<img src={Logo} alt=\"Logo\" style={{ height: \"100%\" }} />\n\t\t\t\t</a>\n\t\t\t</div>\n\t\t);\n\t} else {\n\treturn (\n\t\t<div className=\"menu_left\">\n\t\t\t<div className=\"menu__logo\">\n\t\t\t\t<a href=\"/landing\">\n\t\t\t\t\t<img src={Logo} alt=\"Logo\" style={{ height: \"100%\" }} />\n\t\t\t\t</a>\n\t\t\t</div>\n\t\t\t<div className=\"popcorn_icon\">\n\t\t\t\t<a href=\"/favorite\">\n\t\t\t\t\t<PopcornIcon type=\"icon-popcorn\" style={{ fontSize: 25 }} />\n\t\t\t\t\t{t(\"navbar.favorites\")}\n\t\t\t\t</a>\n\t\t\t</div>\n\t\t</div>\n\t);\n  }\n}\n\nexport default LeftMenu;\n","/* eslint-disable jsx-a11y/anchor-is-valid */\nimport React, { useEffect, useState } from 'react'\nimport { Menu } from 'antd';\nimport axios from 'axios';\nimport { USER_SERVER } from '../../../Config';\nimport { LogoutOutlined, LoginOutlined, UserAddOutlined } from '@ant-design/icons';\nimport { withRouter } from 'react-router-dom';\nimport { useSelector } from \"react-redux\";\nimport { useTranslation } from 'react-i18next';\nimport { makeStyles } from '@material-ui/core/styles';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport FormControl from '@material-ui/core/FormControl';\nimport Select from '@material-ui/core/Select';\nimport { createFromIconfontCN } from '@ant-design/icons';\n\nconst useStyles = makeStyles((theme) => ({\n  formControl: {\n    marginLeft: 10, \n    alignItems: 'center',\n  },\n  selectEmpty: {\n    '& .MuiSelect-root': {\n      background: 'white',\n  },\n    marginTop: theme.spacing(2),\n    marginLeft: 10,\n  },\n}));\n\nfunction RightMenu(props) {\n\n  const { t, i18n } = useTranslation();\n  const changeLanguage = lng => {\n    i18n.changeLanguage(lng);\n  };\n  let language = i18n.language;\n\n  const classes = useStyles();\n  function onChange(e) {\n    changeLanguage(e.target.value);\n    localStorage.setItem(\"language\", e.target.value);\n  }\n\n  const user = useSelector(state => state.user)\n\n  const logoutHandler = () => {\n    axios.get(`${USER_SERVER}/logout`).then(response => {\n      if (response.status === 200) {\n        props.history.push(\"/login\");\n      } else {\n        alert('Log Out Failed')\n      }\n    });\n  };\n\n  const [Username, setUsername] = useState('');\n  const [mounted, setMounted] = useState(false);\n\n  useEffect(() => {\n    fetchUsername()\n    if (!mounted){\n      setMounted(true);\n  }\n    }, [props, mounted])\n\n  const fetchUsername = () => {\n    axios.get('/api/users/auth')\n      .then(response => {\n        if (response.data) {\n          setUsername(response.data.username)\n        } else {\n          alert('Failed to get Username')\n        }\n      })\n  }\n\n  const GroupIcon = createFromIconfontCN({\n    scriptUrl: '//at.alicdn.com/t/font_1804216_5e8qc34kmnl.js',\n  });\n\n  if (user.userData && !user.userData.isAuth) {\n    return (\n      <Menu mode={props.mode}>\n        <Menu.Item key=\"mail\">\n          <a href=\"/login\">{t('navbar.login')}<LoginOutlined style={{padding: \"10px\"}}/></a>\n        </Menu.Item>\n        <Menu.Item key=\"app\">\n          <a href=\"/register\">{t('navbar.register')}<UserAddOutlined style={{padding: \"10px\"}}/></a>\n        </Menu.Item>\n        <React.Fragment>\n        <FormControl className={classes.formControl}>\n          <Select\n            value={language}\n            onChange={onChange}\n            displayEmpty\n            autoWidth\n            disableUnderline\n            IconComponent={() => \"\"}\n            className={classes.selectEmpty}\n            inputProps={{ 'aria-label': 'Without label' }}\n          >\n            <MenuItem value=\"en-US\"><img src=\"https://res.cloudinary.com/dkyqbngya/image/upload/c_scale,w_25/v1585483470/united-states-of-america-flag-button-round-xs_xgcefz.png\" alt=\"US Flag\"/></MenuItem>\n            <MenuItem value=\"fr-FR\"><img src=\"https://res.cloudinary.com/dkyqbngya/image/upload/c_scale,w_25/v1585483466/france-flag-button-round-icon-64_uqllrc.png\" alt=\"French Flag\" /></MenuItem>\n          </Select>\n        </FormControl>\n        </React.Fragment>\n      </Menu>\n    )\n  } else {\n    return (\n      <Menu mode={props.mode}>\n        <Menu.Item key=\"profile\"><a href=\"/profile\">{t(\"navbar.welcome\")}&nbsp;&nbsp;<span className=\"username\">{Username}</span></a>\n        </Menu.Item>\n        <Menu.Item key=\"users\">\n          <a href=\"/users\"><GroupIcon type=\"icon-group\" style={{fontSize: \"20px\"}}/>{t('navbar.users')}</a>\n        </Menu.Item>\n        <Menu.Item key=\"logout\">\n          <a onClick={logoutHandler}><LogoutOutlined />{t('navbar.logout')}</a>\n        </Menu.Item>\n        <React.Fragment>\n        <FormControl className={classes.formControl}>\n          <Select\n            value={language}\n            onChange={onChange}\n            displayEmpty\n            autoWidth\n            disableUnderline\n            IconComponent={() => \"\"}\n            className={classes.selectEmpty}\n            inputProps={{ 'aria-label': 'Without label' }}\n          >\n            <MenuItem value=\"en-US\"><img src=\"https://res.cloudinary.com/dkyqbngya/image/upload/c_scale,w_25/v1585483470/united-states-of-america-flag-button-round-xs_xgcefz.png\" alt=\"US Flag\" /></MenuItem>\n            <MenuItem value=\"fr-FR\"><img src=\"https://res.cloudinary.com/dkyqbngya/image/upload/c_scale,w_25/v1585483466/france-flag-button-round-icon-64_uqllrc.png\" alt=\"French Flag\" /></MenuItem>\n          </Select>\n        </FormControl>\n        </React.Fragment>\n      </Menu>\n    )\n  }\n}\n\nexport default withRouter(RightMenu);","import React, { useState } from \"react\";\nimport LeftMenu from \"./Sections/LeftMenu\";\nimport RightMenu from \"./Sections/RightMenu\";\nimport { useSelector } from \"react-redux\";\nimport { Drawer, Button } from \"antd\";\nimport { AlignRightOutlined } from \"@ant-design/icons\";\nimport Logo from \"../../../assets/logo1.png\";\nimport \"./Sections/Navbar.css\";\n\nfunction NavBar() {\n\tconst [visible, setVisible] = useState(false);\n\tconst user = useSelector((state) => state.user);\n\n\tconst showDrawer = () => {\n\t\tsetVisible(true);\n\t};\n\n\tconst onClose = () => {\n\t\tsetVisible(false);\n\t};\n\n\tconsole.log(Logo);\n\n\treturn (\n\t\t<nav\n\t\t\tclassName=\"menu\"\n\t\t\tstyle={{ position: \"fixed\", zIndex: 1, width: \"100%\", height: \"5rem\" }}\n\t\t>\n\t\t\t<div className=\"menu__container\">\n\t\t\t\t<LeftMenu mode=\"horizontal\" />\n\t\t\t\t<div className=\"menu_right\">\n\t\t\t\t\t<RightMenu mode=\"horizontal\" />\n\t\t\t\t</div>\n\t\t\t\t<Button\n\t\t\t\t\tclassName=\"menu__mobile-button\"\n\t\t\t\t\ttype=\"primary\"\n\t\t\t\t\tonClick={showDrawer}\n\t\t\t\t>\n\t\t\t\t\t<AlignRightOutlined />\n\t\t\t\t</Button>\n\t\t\t\t<Drawer\n\t\t\t\t\ttitle=\"Menu\"\n\t\t\t\t\tplacement=\"right\"\n\t\t\t\t\tclassName=\"menu_drawer\"\n\t\t\t\t\tclosable={false}\n\t\t\t\t\tonClose={onClose}\n\t\t\t\t\tvisible={visible}\n\t\t\t\t>\n\t\t\t\t\t<LeftMenu mode=\"inline\" />\n\t\t\t\t\t<RightMenu mode=\"inline\" />\n\t\t\t\t</Drawer>\n\t\t\t</div>\n\t\t</nav>\n\t);\n}\n\nexport default NavBar;\n","import React from \"react\";\n\nfunction Footer() {\n\treturn (\n\t\t<div\n\t\t\tstyle={{\n\t\t\t\theight: \"80px\",\n\t\t\t\tdisplay: \"flex\",\n\t\t\t\tflexDirection: \"column\",\n\t\t\t\talignItems: \"center\",\n\t\t\t\tjustifyContent: \"center\",\n\t\t\t\tfontSize: \"1rem\",\n\t\t\t}}\n\t\t></div>\n\t);\n}\n\nexport default Footer;\n","import {makeStyles} from \"@material-ui/core/styles\";\n\nconst useStyles = makeStyles(theme => ({\n\n    playerWrapper: {\n    position: 'relative',\n    paddingTop: '56.25%' /* Player ratio: 100 / (1280 / 720) */\n    },\n    reactPlayer: {\n        position: 'absolute',\n        top: '0',\n        left: '0'\n    },\n    buttonChooseSource: {\n        color: 'white',\n        borderColor: 'white'\n    },\n    buttonActors: {\n        borderRadius: '10px !important',\n    },\n    loadingSources: {\n        marginRight: '1em',\n        color: 'white',\n    },\n    movieContainer: {\n        paddingTop: 50,\n        paddingBottom: 50,\n    },\n    backdrop: {\n        position: 'absolute',\n        height: '100%',\n        width: '100%',\n        zIndex: -1,\n        '&:after': {\n            position: 'absolute',\n            content: \"''\",\n            display: 'block',\n            top: 0,\n            left: 0,\n            width: '100%',\n            height: '100%',\n            background: 'rgba(30, 47, 60, 0.75)',\n            backgroundImage: 'radial-gradient(circle at 20% 50%, rgba(30, 47, 60, 0.75) 0%, rgba(48, 65, 78, 0.75) 100%)'\n        }\n    },\n    backdropImage: {\n        display: 'block',\n        width: '100%',\n        height: '100%',\n        objectFit: 'cover',\n    },\n    poster: {\n        width: '100%',\n        borderRadius: 10,\n        boxShadow: '0px 3px 20px #0000003b',\n    },\n    releaseDate: {\n        fontSize: '11pt',\n        color: '#dadde2'\n    },\n    vote: {\n        display: 'flex',\n        alignItems: 'center',\n        fontSize: '12pt'\n    },\n    genreList: {\n        listStyle: 'none',\n        padding: 0,\n        display: 'flex',\n        flexWrap: 'wrap',\n    },\n    genre: {\n        cursor: 'pointer',\n        padding: '1px 6px',\n        marginRight: 10,\n        border: '1px solid white',\n        borderRadius: 4,\n        fontSize: '10pt'\n    },\n    subtitle: {\n        marginBottom: 8,\n        fontSize: '13pt',\n        color: 'white'\n    },\n    crewList: {\n        listStyle: 'none',\n        padding: 0,\n    },\n}));\n\nexport default useStyles;","import React, { useEffect, useState, useMemo } from \"react\";\nimport { Tooltip } from \"antd\";\nimport Axios from \"axios\";\nimport { useSelector } from \"react-redux\";\nimport { LikeTwoTone } from \"@ant-design/icons\";\nimport { DislikeTwoTone } from \"@ant-design/icons\";\nimport { useTranslation } from \"react-i18next\";\n\nfunction LikeDislikes(props) {\n\tconst { t } = useTranslation();\n\tconst user = useSelector((state) => state.user);\n\tconst [Likes, setLikes] = useState(0);\n\tconst [Dislikes, setDislikes] = useState(0);\n\n\tlet variable = useMemo(() => {\n\t\tif (props.video) {\n\t\t\treturn { videoId: props.videoId, userId: props.userId };\n\t\t} else {\n\t\t\treturn { commentId: props.commentId, userId: props.userId };\n\t\t}\n\t}, [props.video, props.commentId, props.videoId, props.userId]);\n\n\tuseEffect(() => {\n\t\tlet mounted = true;\n\t\tconst getLikes = () => {\n\t\t\tAxios.post(\"/api/like/getLikes\", variable).then((response) => {\n\t\t\t\tif (response.data.success) {\n\t\t\t\t\tmounted && setLikes(response.data.likes.length);\n\t\t\t\t} else {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t});\n\t\t};\n\t\tgetLikes();\n\t\treturn () => {\n\t\t\tmounted = false;\n\t\t};\n\t}, [props, variable]);\n\n\tuseEffect(() => {\n\t\tlet mounted = true;\n\t\tconst getDislikes = () => {\n\t\t\tAxios.post(\"/api/like/getDislikes\", variable).then((response) => {\n\t\t\t\tif (response.data.success) {\n\t\t\t\t\tmounted && setDislikes(response.data.dislikes.length);\n\t\t\t\t} else {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t});\n\t\t};\n\t\tgetDislikes();\n\t\treturn () => {\n\t\t\tmounted = false;\n\t\t};\n\t}, [props, variable]);\n\n\tconst onLike = () => {\n\t\tif (user.userData && !user.userData.isAuth) {\n\t\t\treturn props.history.push(\"/login\");\n\t\t}\n\t\tAxios.post(\"/api/like/upLike\", variable).then((response) => {\n\t\t\tif (response.data.success) {\n\t\t\t\tif (response.data.up === true) {\n\t\t\t\t\tsetLikes(Likes + 1);\n\t\t\t\t\tif (Dislikes !== 0) {\n\t\t\t\t\t\tsetDislikes(Dislikes - 1);\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tsetLikes(Likes - 1);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\treturn props.history.push(\"/login\");\n\t\t\t}\n\t\t});\n\t};\n\n\tconst onDisLike = () => {\n\t\tif (user.userData && !user.userData.isAuth) {\n\t\t\treturn props.history.push(\"/login\");\n\t\t}\n\t\tAxios.post(\"/api/like/upDisLike\", variable).then((response) => {\n\t\t\tif (response.data.success) {\n\t\t\t\tif (response.data.up === true) {\n\t\t\t\t\tsetDislikes(Dislikes + 1);\n\t\t\t\t\tif (Likes !== 0) {\n\t\t\t\t\t\tsetLikes(Likes - 1);\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tsetDislikes(Dislikes - 1);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\treturn props.history.push(\"/login\");\n\t\t\t}\n\t\t});\n\t};\n\n\treturn (\n\t\t<React.Fragment>\n\t\t\t<span key=\"comment-basic-like\">\n\t\t\t\t<Tooltip title={t(\"movie.like\")}>\n\t\t\t\t\t<LikeTwoTone twoToneColor=\"#19ba90\" type=\"like\" onClick={onLike} />\n\t\t\t\t</Tooltip>\n\t\t\t\t<span style={{ paddingLeft: \"8px\", cursor: \"auto\" }}>{Likes}</span>\n\t\t\t</span>\n\t\t\t&nbsp;&nbsp;&nbsp;&nbsp;\n\t\t\t<span key=\"comment-basic-dislike\">\n\t\t\t\t<Tooltip title={t(\"movie.dislike\")}>\n\t\t\t\t\t<DislikeTwoTone\n\t\t\t\t\t\ttwoToneColor=\"#19ba90\"\n\t\t\t\t\t\ttype=\"dislike\"\n\t\t\t\t\t\tonClick={onDisLike}\n\t\t\t\t\t/>\n\t\t\t\t</Tooltip>\n\t\t\t\t<span style={{ paddingLeft: \"8px\", cursor: \"auto\" }}>{Dislikes}</span>\n\t\t\t</span>\n\t\t</React.Fragment>\n\t);\n}\n\nexport default LikeDislikes;\n","import React, { useState } from 'react'\nimport { Comment, Avatar, Button, Input, Modal, Card } from 'antd';\nimport Axios from 'axios';\nimport { useSelector } from 'react-redux';\nimport LikeDislikes from './LikeDislikes';\nimport { useTranslation } from 'react-i18next';\nimport { message } from 'antd';\nimport moment from 'moment';\nimport { createFromIconfontCN } from '@ant-design/icons';\n\nconst { Meta } = Card;\n\nconst SendIcon = createFromIconfontCN({\n    scriptUrl: '//at.alicdn.com/t/font_1804216_o2mk1ztsiol.js',\n});\n\nconst { TextArea } = Input;\n\nfunction SingleComment(props) {\n    const { t } = useTranslation();\n    const user = useSelector(state => state.user);\n    const [CommentValue, setCommentValue] = useState(\"\")\n    const [OpenReply, setOpenReply] = useState(false)\n\n    const handleChange = (e) => {\n        setCommentValue(e.currentTarget.value)\n    }\n\n    const openReply = () => {\n        setOpenReply(!OpenReply)\n    }\n\n    function convertHtmlToText(str) {\n        str = str.toString();\n        return str.replace(/<[^>]*(>|$)|&nbsp;|&zwnj;|&raquo;|&laquo;|&gt;/g, '');\n    }\n\n    const onSubmit = (e) => {\n        e.preventDefault();\n\n        if (!CommentValue) {\n            return message.error(t('movie.replyEmptyCom'));\n        }\n\n\n        let date = new Date();\n\n        const variables = {\n            writer: user.userData._id,\n            postId: props.postId,\n            date: date,\n            responseTo: props.comment._id,\n            content: convertHtmlToText(CommentValue)\n        }\n\n\n        Axios.post('/api/comment/saveComment', variables)\n            .then(response => {\n                if (response.data.success) {\n                    setCommentValue(\"\")\n                    setOpenReply(!OpenReply)\n                    props.refreshFunction(response.data.result)\n                } else {\n                    message.error(t('movie.failCom'))\n                }\n            })\n    }\n\n    const actions = [\n        <LikeDislikes comment commentId={props.comment._id} userId={localStorage.getItem('userId')} />,\n        <span onClick={openReply} key=\"comment-basic-reply-to\">{t('movie.reply')}</span>\n    ]\n\n    const [visible, setVisible] = useState(false);\n\n    const showModal = () => {\n        setVisible(true);\n    }\n\n    const handleCancel = () => {\n        setVisible(false);\n    }\n\n    return (\n        <div>\n            <Comment\n                actions={actions}\n                author={props.comment.writer && props.comment.writer.username ? <b onClick={showModal} style={{ cursor: \"pointer\" }}>{props.comment.writer.username}</b> : t(\"movie.userDeleted\")}\n                avatar={\n                    <Avatar onClick={showModal}\n                        src={props.comment.writer && props.comment.writer.image ? props.comment.writer.image : t(\"landing.notAvail\")}\n                        alt=\"image\"\n                    />\n                }\n                datetime={moment(props.comment.date).format(\"DD/MM/YYYY - HH:mm\")}\n                content={\n                    <p>\n                        {props.comment.content}\n                    </p>\n                }\n            ></Comment>\n            {props.comment.writer ?\n                <Modal\n                    title={`${t('users.profileTitle')} - ${props.comment.writer.username}`}\n                    visible={visible}\n                    onCancel={handleCancel}\n                    width={610}\n                    style={{ top: 20 }}\n                    footer={[\n                        <Button type=\"primary\" key=\"Close\" onClick={handleCancel}>\n                            {t(\"movieInfo.close\")}\n                        </Button>\n                    ]}\n                >\n                    <Card\n                        hoverable\n                        style={{ display: 'flex', justifyContent: 'center', alignItems: 'center' }}\n                        cover={<Avatar src={props.comment.writer.image} size={84} />}\n                    >\n                        <Meta title={<b>{props.comment.writer.username}</b>} />\n                        <br />\n                        <span>{props.comment.writer.firstName} {props.comment.writer.lastName}</span>\n                    </Card>\n                </Modal>\n                : null\n            }\n\n            {OpenReply &&\n                <form style={{ display: 'flex' }} onSubmit={onSubmit}>\n                    <TextArea\n                        style={{ width: '100%', borderRadius: '5px' }}\n                        onChange={handleChange}\n                        value={CommentValue}\n                        placeholder={t('movie.comReply')}\n                    />\n                    <br />\n                    <Button style={{ width: '20%', height: '52px' }} onClick={onSubmit}><SendIcon type=\"icon-send\" style={{ fontSize: \"20px\" }} /></Button>\n                </form>\n            }\n\n        </div>\n    )\n}\n\nexport default SingleComment\n","import React, { useEffect, useState } from 'react'\nimport SingleComment from './SingleComment';\nimport { useTranslation } from 'react-i18next';\n\nfunction ReplyComment(props) {\n    \n    const { t } = useTranslation();\n    const [ChildCommentNumber, setChildCommentNumber] = useState(0)\n    const [OpenReplyComments, setOpenReplyComments] = useState(false)\n    useEffect(() => {\n\n        let commentNumber = 0;\n        props.CommentLists.forEach((comment) => {\n\n            if (comment.responseTo === props.parentCommentId) {\n                commentNumber++\n            }\n        })\n        setChildCommentNumber(commentNumber)\n    }, [props.CommentLists, props.parentCommentId])\n\n\n    let renderReplyComment = (parentCommentId) =>\n        props.CommentLists.map((comment, index) => (\n            <React.Fragment key={comment._id}> \n                {comment.responseTo === parentCommentId &&\n                    <div style={{ width: '80%', marginLeft: '40px' }}>\n                        <SingleComment comment={comment} postId={props.postId} refreshFunction={props.refreshFunction} />\n                        <ReplyComment CommentLists={props.CommentLists} parentCommentId={comment._id} postId={props.postId} refreshFunction={props.refreshFunction} />\n                    </div>\n                }\n            </React.Fragment>\n        ))\n\n    const handleChange = () => {\n        setOpenReplyComments(!OpenReplyComments)\n    }\n\n\n    return (\n        <div>\n\n            {ChildCommentNumber > 0 &&\n                <p style={{ fontSize: '14px', margin: 0, color: 'gray' }}\n                    onClick={handleChange} >\n                    {t('movie.view')} {ChildCommentNumber} {t('movie.moreComs')}\n             </p>\n            }\n\n            {OpenReplyComments &&\n                renderReplyComment(props.parentCommentId)\n            }\n\n        </div>\n    )\n}\n\nexport default ReplyComment\n","import React, { useState } from 'react'\nimport { Button, Input, Typography, } from 'antd';\nimport axios from 'axios';\nimport { useSelector } from 'react-redux';\nimport SingleComment from './SingleComment';\nimport ReplyComment from './ReplyComment';\nimport { useTranslation } from 'react-i18next';\nimport { message } from 'antd';\nimport { CommentOutlined } from '@ant-design/icons';\nimport { createFromIconfontCN } from '@ant-design/icons';\n\nconst SendIcon = createFromIconfontCN({\n    scriptUrl: '//at.alicdn.com/t/font_1804216_o2mk1ztsiol.js',\n  });\nconst { TextArea } = Input;\nconst { Title } = Typography;\n\nfunction Comments(props) {\n    const { t } = useTranslation();\n    const user = useSelector(state => state.user)\n    const [Comment, setComment] = useState(\"\")\n\n    const handleChange = (e) => {\n        setComment(e.currentTarget.value)\n    }\n\n    function convertHtmlToText(str) {\n        str = str.toString();\n        return str.replace(/<[^>]*(>|$)|&nbsp;|&zwnj;|&raquo;|&laquo;|&gt;/g, '');\n    }\n\n    const onSubmit = (e) => {\n\n        e.preventDefault();\n\n        if (user.userData && !user.userData.isAuth) {\n            return message.error(t('movie.loginFirst'));\n        }\n        else if (!Comment) {\n            return message.error(t('movie.emptyCom'));\n        }\n        const variables = {\n            content: convertHtmlToText(Comment),\n            writer: user.userData._id,\n            postId: props.postId,\n        }\n\n        axios.post('/api/comment/saveComment', variables)\n            .then(response => {\n                if (response.data.success) {\n                    setComment(\"\")\n                    props.refreshFunction(response.data.result)\n                } else {\n                    message.error(t('movie.failCom'))\n                }\n            })\n    }\n\n    return (\n        <div>\n            <br />\n            <Title level={3}><CommentOutlined style={{paddingRight: \"10px\", fontSize: \"30px\"}}/>{t('movie.share')} {props.movieTitle} </Title>\n            <hr />\n\n            {props.CommentLists && props.CommentLists.map((comment, index) => (\n                (!comment.responseTo &&\n                    <React.Fragment key={comment._id}>\n                        <SingleComment comment={comment} postId={props.postId} refreshFunction={props.refreshFunction} />\n                        <ReplyComment CommentLists={props.CommentLists} postId={props.postId} parentCommentId={comment._id} refreshFunction={props.refreshFunction} />\n                    </React.Fragment>\n                )\n            ))}\n\n            {props.CommentLists && props.CommentLists.length === 0 &&\n                <div style={{ display: 'flex', justifyContent: 'center', alignItems: 'center', height: '100px' }} >\n                    {t('movie.comFirst')}\n                </div>\n            }\n\n            {/* Root Comment Form */}\n            <form style={{ display: 'flex' }} onSubmit={onSubmit}>\n                <TextArea\n                    style={{ width: '100%', borderRadius: '5px' }}\n                    onChange={handleChange}\n                    value={Comment}\n                    placeholder={t('movie.comText')}\n                />\n                <br />\n                <Button style={{ width: '20%', height: '52px' }} onClick={onSubmit}><SendIcon type=\"icon-send\" style={{fontSize: \"20px\"}}/></Button>\n            </form>\n\n        </div>\n    )\n}\n\nexport default Comments\n","import React, { useEffect, useState, useMemo } from \"react\";\nimport axios from \"axios\";\nimport { Button } from \"antd\";\nimport { useSelector } from \"react-redux\";\nimport { useTranslation } from \"react-i18next\";\nimport { createFromIconfontCN } from \"@ant-design/icons\";\nimport { useHistory } from \"react-router-dom\";\n\nconst PopcornIcon = createFromIconfontCN({\n\tscriptUrl: \"//at.alicdn.com/t/font_1804216_05evm2uwptc9.js\",\n});\n\nconst PopcornColorIcon = createFromIconfontCN({\n\tscriptUrl: \"//at.alicdn.com/t/font_1804216_c1v18kzse7b.js\",\n});\n\nfunction Favorite(props) {\n\tconst { t } = useTranslation();\n\tconst history = useHistory();\n\tconst user = useSelector((state) => state.user);\n\n\tconst movieId = props.movieId;\n\tconst userFrom = props.userFrom;\n\tconst movieTitle = props.movieInfo.title;\n\tconst moviePost = props.movieInfo.backdrop_path;\n\tconst movieRunTime = props.movieInfo.runtime;\n\n\tconst [FavoriteNumber, setFavoriteNumber] = useState(0);\n\tconst [Favorited, setFavorited] = useState(false);\n\n\tconst variables = useMemo(\n\t\t() => ({\n\t\t\tmovieId: movieId,\n\t\t\tuserFrom: userFrom,\n\t\t\tmovieTitle: movieTitle,\n\t\t\tmoviePost: moviePost,\n\t\t\tmovieRunTime: movieRunTime,\n\t\t}),\n\t\t[movieId, userFrom, movieTitle, moviePost, movieRunTime]\n\t);\n\n\tconst onClickFavorite = () => {\n\t\tif (user.userData && !user.userData.isAuth) {\n\t\t\treturn history.push(\"/\");\n\t\t}\n\n\t\tif (Favorited) {\n\t\t\t//when we are already subscribed\n\t\t\taxios\n\t\t\t\t.post(\"/api/favorite/removeFromFavorite\", variables)\n\t\t\t\t.then((response) => {\n\t\t\t\t\tif (response.data.success) {\n\t\t\t\t\t\tsetFavoriteNumber(FavoriteNumber - 1);\n\t\t\t\t\t\tsetFavorited(!Favorited);\n\t\t\t\t\t} else {\n\t\t\t\t\t\thistory.push(\"/\");\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t} else {\n\t\t\t// when we are not subscribed yet\n\n\t\t\taxios.post(\"/api/favorite/addToFavorite\", variables).then((response) => {\n\t\t\t\tif (response.data.success) {\n\t\t\t\t\tsetFavoriteNumber(FavoriteNumber + 1);\n\t\t\t\t\tsetFavorited(!Favorited);\n\t\t\t\t} else {\n\t\t\t\t\thistory.push(\"/\");\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t};\n\n\tuseEffect(() => {\n\t\tlet mounted = true;\n\t\tconst fetchFavoriteNumber = () => {\n\t\t\taxios\n\t\t\t\t.post(\"/api/favorite/favoriteNumber\", variables)\n\t\t\t\t.then((response) => {\n\t\t\t\t\tif (response.data.success) {\n\t\t\t\t\t\tmounted && setFavoriteNumber(response.data.subscribeNumber);\n\t\t\t\t\t} else {\n\t\t\t\t\t\thistory.push(\"/\");\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t\t.catch((error) => {\n\t\t\t\t\tconsole.log(error);\n\t\t\t\t});\n\t\t};\n\t\tfetchFavoriteNumber();\n\t\treturn () => {\n\t\t\tmounted = false;\n\t\t};\n\t}, [props, history, variables]);\n\n\tuseEffect(() => {\n\t\tlet mounted = true;\n\t\tconst fetchFavorited = () => {\n\t\t\taxios.post(\"/api/favorite/favorited\", variables).then((response) => {\n\t\t\t\tif (response.data.success) {\n\t\t\t\t\tmounted && setFavorited(response.data.subcribed);\n\t\t\t\t} else {\n\t\t\t\t\thistory.push(\"/\");\n\t\t\t\t}\n\t\t\t});\n\t\t};\n\t\tfetchFavorited();\n\t\treturn () => {\n\t\t\tmounted = false;\n\t\t};\n\t}, [props, variables, history]);\n\n\treturn (\n\t\t<>\n\t\t\t<Button type=\"primary\" onClick={onClickFavorite}>\n\t\t\t\t{!Favorited ? t(\"favorites.add\") : t(\"favorites.remove\")}\n\t\t\t\t{!Favorited ? (\n\t\t\t\t\t<PopcornIcon type=\"icon-popcorn\" style={{ fontSize: \"20px\" }} />\n\t\t\t\t) : (\n\t\t\t\t\t<PopcornColorIcon type=\"icon-popcorn1\" style={{ fontSize: \"20px\" }} />\n\t\t\t\t)}\n\t\t\t\t{FavoriteNumber}\n\t\t\t</Button>\n\t\t</>\n\t);\n}\n\nexport default Favorite;\n","import React, { useState } from 'react'\nimport { IMAGE_BASE_URL, IMAGE_SIZE, POSTER_SIZE } from '../../../Config'\nimport moment from 'moment';\n// import numeral from 'numeral';\nimport { useTranslation } from 'react-i18next';\nimport { createFromIconfontCN, YoutubeOutlined} from '@ant-design/icons';\nimport Container from \"@material-ui/core/Container\";\nimport Grid from \"@material-ui/core/Grid\";\nimport Typography from \"@material-ui/core/Typography\";\nimport useStyles from '../style';\nimport { Badge, Modal, Button } from 'antd';\nimport Favorite from '../Sections/Favorite';\nimport { Link } from 'react-router-dom';\n\nfunction MovieInfo(props) {\n\n  const [visible, setVisible] = useState(false);\n  const classes = useStyles();\n  const { t } = useTranslation();\n\n  const calcTime = (time) => {\n    const hours = Math.floor(time / 60);\n    let mins = time % 60;\n    if (mins < 10) { mins = \"0\" + mins; }\n    return `${hours}h ${mins}min`;\n  }\n\n  const { movie, directors, cast, trailer } = props;\n\n  const VoteColors = {\n    UNKNOWN: '#999',\n    BAD: '#cd5c5c',\n    OK: '#ffa500',\n    EXCELLENT: '#52c41a'\n  }\n\n  function getScoreColor(score) {\n    let color = VoteColors.EXCELLENT\n    if (!score || movie.vote_average === 0) color = VoteColors.UNKNOWN\n    else if (score < 5.5) color = VoteColors.BAD\n    else if (score < 7) color = VoteColors.OK\n\n    return color\n  }\n\n  const BadgeColor = getScoreColor(movie.vote_average)\n\n  const overviewLength = 700;\n\n  const MovieInfoIcon = createFromIconfontCN({\n    scriptUrl: '//at.alicdn.com/t/font_1804216_3easwvxbvnh.js',\n  });\n\n\n  var videoArray = [];\n  var embedLink = '';\n  if (trailer.length > 0) {\n    var i;\n    for (i = 0; i < trailer.length; i++) {\n      if (trailer[i].type === 'Trailer') {\n        videoArray.push(trailer[i].key);\n      }\n    }\n    if (videoArray.length > 0) {\n      embedLink = 'https://www.youtube.com/embed/' + videoArray[0] + '?&autoplay=1';\n    }\n  }\n\n  const showModal = () => {\n    setVisible(true);\n  }\n\n  const handleCancel = () => {\n    setVisible(false);\n  }\n\n  const stopVideo = 'https://www.youtube.com/embed/' + videoArray[0] + '?&autoplay=0';\n  const youtubeLink = visible ? embedLink : stopVideo;\n\n  return (\n    <main style={{ position: 'relative' }}>\n      <div className={classes.backdrop}>\n        <img className={classes.backdropImage} src={movie.backdrop_path ? `${IMAGE_BASE_URL}${IMAGE_SIZE}${movie.backdrop_path}` : \"https://res.cloudinary.com/dkyqbngya/image/upload/v1586787757/detykqycj7ejezsjmxln.png\"} alt=\"\" />\n      </div>\n      <Container className={classes.movieContainer}>\n        <Grid container spacing={7}>\n          <Grid item md={3}>\n            <img className={classes.poster} src={movie.poster_path ? `${IMAGE_BASE_URL}${POSTER_SIZE}${movie.poster_path}` : t('landing.notAvail')} alt={\"Poster of \" + movie.title} />\n          </Grid>\n          <Grid item md={8} style={{ color: 'white' }}>\n            <div className={classes.releaseDate}>\n              <h2 style={{ color: \"white\" }}>{movie.release_date\n                ? moment(new Date(movie.release_date)).format('YYYY') : 'N/A'}\n              </h2>\n            </div>\n            <Typography variant={\"h4\"} style={{ fontWeight: 'bold', color: 'white' }} component={\"h1\"}>\n              <MovieInfoIcon type=\"icon-movie1\" style={{ fontSize: \"30px\", paddingRight: \"10px\" }} />{movie.title}\n            </Typography>\n            {movie.genres.length ?\n              <ul className={classes.genreList}>\n                {movie.genres.map((element, iterator) => {\n                  return <Link to={{ pathname: `/landing/genre/${element.name}/${element.id}` }} key={iterator}><li className={classes.genre} key={element.id}>{element.name}</li></Link>\n                })}\n              </ul>\n              :\n              null\n            }\n\n            <div className={classes.vote}>\n              <span style={{ margin: '2px 0px 0 6px' }}>\n                <Badge\n                  style={{ backgroundColor: BadgeColor, marginRight: 16 }}\n                  offset={[0, 0]}\n                  count={movie.vote_average}>\n                </Badge>\n                <Favorite movieInfo={movie} movieId={movie.id} userFrom={localStorage.getItem('userId')} />\n              \n              \n                {\n              trailer ?\n                <>\n                  <Button type=\"primary\" style={{margin: \"15px\"}} onClick={showModal}>\n                  <YoutubeOutlined style={{fontSize: \"20px\"}}/> {t(\"movieInfo.trailer\")}\n                        </Button>\n                  <Modal\n                    title={`${t('movieInfo.trailerTitle')} ${movie.title} ${t('movieInfo.watchHyper')}`}\n                    visible={visible}\n                    onCancel={handleCancel}\n                    width={610}\n                    style={{ top: 20 }}\n                    footer={[\n                      <Button type=\"primary\" key=\"Close\" onClick={handleCancel}>\n                        {t(\"movieInfo.close\")}\n                      </Button>\n                    ]}\n                  >\n                    <div className=\"iframe-container\">\n                    <iframe\n                      title={movie.title}\n                      width=\"560\"\n                      height=\"315\"\n                      src={youtubeLink}\n                      frameBorder=\"0\"\n                      sameSite=\"none; secure\"\n                      Secure\n                      allow=\"accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture\"\n                      allowFullScreen>\n                    </iframe>\n                    </div>\n                  </Modal>\n                </>\n                :\n                null\n            }\n              \n              \n              </span>\n            </div>\n            <div style={{ marginTop: 10, marginBottom: 10 }}>\n              <Typography component={\"div\"} style={{ marginRight: 15 }}>\n                <b>{t('movieInfo.runtime')}</b> {movie.runtime ? calcTime(movie.runtime) : 'N/A'}\n              </Typography>\n              <Typography component={\"div\"}>\n                <b>{t('movieInfo.movietitle')}</b> {movie.original_title}\n              </Typography>\n              <Typography component={\"div\"}>\n              <b>{t('movieInfo.actors')}</b> {cast.map((element) => {\n                  return element.name;\n                }).slice(0, 5).join(\", \")}\n                <br />\n                <b>{t('movieInfo.director')}</b> {directors.map((element) => {\n                  return element.name;\n                }).join(\", \")}\n                <br />\n                <b>{t('movieInfo.prod')}</b> {movie.production_companies.map(function (company) {\n                  return company.name;\n                }).shift()}\n              </Typography>\n            </div>\n            {movie.overview && <React.Fragment>\n              <h4 className={classes.subtitle}>{t('movieInfo.overview')}</h4>\n              <Typography variant={\"body1\"}>{movie.overview && movie.overview.length > overviewLength ? movie.overview.substring(0, overviewLength) + \"...\" : movie.overview}</Typography>\n            </React.Fragment>}\n          </Grid>\n        </Grid>\n      </Container>\n    </main>\n  )\n}\n\nexport default MovieInfo\n","import React from \"react\";\nimport { IMAGE_BASE_URL, POSTER_SIZE, API_KEY, API_URL } from \"../../../Config\";\nimport { withTranslation } from \"react-i18next\";\nimport { createFromIconfontCN } from \"@ant-design/icons\";\nimport { Typography, Row } from \"antd\";\nimport GridCard from \"../../../commons/GridCards\";\nimport Axios from \"axios\"\n\nconst { Title } = Typography;\n\nconst MovieIcon = createFromIconfontCN({\n\tscriptUrl: \"//at.alicdn.com/t/font_1804216_cpuj79al49d.js\",\n});\n\nclass RecommendedMovies extends React.Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.state = {\n\t\t\tdata: \"\",\n\t\t};\n\n\t\tif (props.type === \"Recommended Movies\") {\n\t\t\tAxios.post(\"/api/recommend\").then((response) => {\n\t\t\t\tif (response) {\n\t\t\t\t\tthis.setState({ data: response.results });\n\t\t\t\t} else {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t}\n\n\trender() {\n\t\tconst { t } = this.props;\n\t\tif (this.state.data === \"\") return \"\";\n\t\telse {\n\t\t\tlet data_arr = [];\n\t\t\tfor (let i in this.state.data.slice(0, 5)) {\n\t\t\t\tif (\n\t\t\t\t\tthis.state.data[i].vote_count > 2300 &&\n\t\t\t\t\tthis.state.data[i].backdrop_path !== null &&\n\t\t\t\t\tthis.state.data[i].overview !== null\n\t\t\t\t)\n\t\t\t\t\tdata_arr.push(\n\t\t\t\t\t\t<React.Fragment key={i}>\n\t\t\t\t\t\t\t<GridCard\n\t\t\t\t\t\t\t\tmovie\n\t\t\t\t\t\t\t\tclassName=\"similar_movies\"\n\t\t\t\t\t\t\t\timage={\n\t\t\t\t\t\t\t\t\tthis.state.data[i].poster_path\n\t\t\t\t\t\t\t\t\t\t? `${IMAGE_BASE_URL}${POSTER_SIZE}${this.state.data[i].poster_path}`\n\t\t\t\t\t\t\t\t\t\t: t(\"landing.notAvail\")\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tmovieId={this.state.data[i].id}\n\t\t\t\t\t\t\t\tmovieName={this.state.data[i].title}\n\t\t\t\t\t\t\t\tdate={this.state.data[i].release_date}\n\t\t\t\t\t\t\t\tvote={\n\t\t\t\t\t\t\t\t\tthis.state.data[i].vote_average\n\t\t\t\t\t\t\t\t\t\t? this.state.data[i].vote_average\n\t\t\t\t\t\t\t\t\t\t: \"N/A\"\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</React.Fragment>\n\t\t\t\t\t);\n\t\t\t}\n\n\t\t\treturn (\n\t\t\t\t<div>\n\t\t\t\t\t<Title level={3}>\n\t\t\t\t\t\t<MovieIcon\n\t\t\t\t\t\t\ttype=\"icon-movie\"\n\t\t\t\t\t\t\tstyle={{ fontSize: \"35px\", paddingRight: \"10px\" }}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t{t(\"movie.recommended\")}\n\t\t\t\t\t</Title>\n\t\t\t\t\t<hr />\n\t\t\t\t\t<br />\n\t\t\t\t\t<Row gutter={[16, 16]}>\n\t\t\t\t\t\t{this.state.data.length === 0 ? (\n\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\t\tdisplay: \"flex\",\n\t\t\t\t\t\t\t\t\tjustifyContent: \"center\",\n\t\t\t\t\t\t\t\t\talignItems: \"center\",\n\t\t\t\t\t\t\t\t\theight: \"100px\",\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{t(\"movie.recoNone\")}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\tdata_arr\n\t\t\t\t\t\t)}\n\t\t\t\t\t</Row>\n\t\t\t\t</div>\n\t\t\t);\n\t\t}\n\t}\n}\n\nexport default withTranslation()(RecommendedMovies);\n","import React from \"react\";\nimport { API_KEY, IMAGE_BASE_URL, POSTER_SIZE, API_URL } from \"../../../Config\";\nimport { withTranslation } from \"react-i18next\";\nimport { createFromIconfontCN } from \"@ant-design/icons\";\nimport { Typography, Row } from \"antd\";\nimport GridCard from \"../../../commons/GridCards\";\nimport Axios from \"axios\"\n\nconst { Title } = Typography;\n\nconst MovieIcon = createFromIconfontCN({\n\tscriptUrl: \"//at.alicdn.com/t/font_1804216_cpuj79al49d.js\",\n});\n\nclass SimilarMovies extends React.Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.state = {\n\t\t\tdata: \"\",\n\t\t};\n\n\t\tif (props.type === \"Similar Movies\") {\n\t\t\tAxios.post(\"/api/similar\").then((response) => {\n\t\t\t\tif (response) {\n\t\t\t\t\tthis.setState({ data: response.results });\n\t\t\t\t} else {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t}\n\n\trender() {\n\t\tconst { t } = this.props;\n\t\tif (!this.state.data) return \"\";\n\t\tif (this.state.data === \"\") return \"\";\n\t\telse {\n\t\t\tlet data_arr = [];\n\t\t\tfor (let i in this.state.data.slice(0, 5)) {\n\t\t\t\tif (\n\t\t\t\t\tthis.state.data[i].vote_count > 2300 &&\n\t\t\t\t\tthis.state.data[i].backdrop_path !== null &&\n\t\t\t\t\tthis.state.data[i].overview !== null\n\t\t\t\t)\n\t\t\t\t\tdata_arr.push(\n\t\t\t\t\t\t<React.Fragment key={i}>\n\t\t\t\t\t\t\t<GridCard\n\t\t\t\t\t\t\t\tmovie\n\t\t\t\t\t\t\t\tclassName=\"similar_movies\"\n\t\t\t\t\t\t\t\timage={\n\t\t\t\t\t\t\t\t\tthis.state.data[i].poster_path\n\t\t\t\t\t\t\t\t\t\t? `${IMAGE_BASE_URL}${POSTER_SIZE}${this.state.data[i].poster_path}`\n\t\t\t\t\t\t\t\t\t\t: t(\"landing.notAvail\")\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tmovieId={this.state.data[i].id}\n\t\t\t\t\t\t\t\tmovieName={this.state.data[i].title}\n\t\t\t\t\t\t\t\tdate={this.state.data[i].release_date}\n\t\t\t\t\t\t\t\tvote={\n\t\t\t\t\t\t\t\t\tthis.state.data[i].vote_average\n\t\t\t\t\t\t\t\t\t\t? this.state.data[i].vote_average\n\t\t\t\t\t\t\t\t\t\t: \"N/A\"\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</React.Fragment>\n\t\t\t\t\t);\n\t\t\t}\n\n\t\t\treturn (\n\t\t\t\t<div>\n\t\t\t\t\t<Title level={3}>\n\t\t\t\t\t\t<MovieIcon\n\t\t\t\t\t\t\ttype=\"icon-movie\"\n\t\t\t\t\t\t\tstyle={{ fontSize: \"35px\", paddingRight: \"10px\" }}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t{t(\"movie.similar\")}\n\t\t\t\t\t</Title>\n\t\t\t\t\t<hr />\n\t\t\t\t\t<br />\n\t\t\t\t\t<Row gutter={[16, 16]}>\n\t\t\t\t\t\t{this.state.data.length === 0 ? (\n\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\t\tdisplay: \"flex\",\n\t\t\t\t\t\t\t\t\tjustifyContent: \"center\",\n\t\t\t\t\t\t\t\t\talignItems: \"center\",\n\t\t\t\t\t\t\t\t\theight: \"100px\",\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{t(\"movie.similarNone\")}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\tdata_arr\n\t\t\t\t\t\t)}\n\t\t\t\t\t</Row>\n\t\t\t\t</div>\n\t\t\t);\n\t\t}\n\t}\n}\n\nexport default withTranslation()(SimilarMovies);\n","import React, { useEffect, useState } from 'react'\nimport { message, Typography } from 'antd';\nimport { Row } from 'antd';\nimport useStyles from './style';\nimport axios from 'axios';\nimport Comments from './Sections/Comments'\nimport LikeDislikes from './Sections/LikeDislikes';\nimport { API_URL, API_KEY } from '../../Config'\nimport GridCards from '../../commons/GridCards';\nimport MovieInfo from './Sections/MovieInfo';\nimport Spinner from '../LandingPage/Sections/Spinner';\nimport RecommendedMovies from './Sections/Recommended';\nimport SimilarMovies from './Sections/Similar';\nimport { createFromIconfontCN } from '@ant-design/icons';\nimport { useTranslation } from 'react-i18next';\nimport { useSelector } from 'react-redux';\nimport { Button } from '@material-ui/core';\n\nfunction MovieDetailPage(props) {\n    const classes = useStyles();\n    const { t } = useTranslation();\n    const CurrentLanguage = localStorage.getItem('language')\n    const { Title } = Typography;\n    const movieId = props.match.params.movieId\n    const [Movie, setMovie] = useState([])\n    const [Directors, setDirectors] = useState([])\n    const [Trailer, setTrailer] = useState([])\n    const [Casts, setCasts] = useState([])\n    const [CommentLists, setCommentLists] = useState([])\n    const [LoadingForMovie, setLoadingForMovie] = useState(true)\n    const [LoadingForCasts, setLoadingForCasts] = useState(true)\n    const [ActorToggle, setActorToggle] = useState(false)\n\n    const StreamTitleIcon = createFromIconfontCN({\n        scriptUrl: '//at.alicdn.com/t/font_1804216_vq7xtyn73yj.js',\n    });\n    const postId = props.match.params.movieId;\n    // const { movie } = props;\n\n    let variable = {\n        postId: postId\n    }\n\n    const user = useSelector(state => state.user)\n\n    var videoArray = [];\n    var embedLink = '';\n    if (Trailer.length > 0) {\n      var i;\n      for (i = 0; i < Trailer.length; i++) {\n        if (Trailer[i].type === 'Trailer') {\n          videoArray.push(Trailer[i].key);\n        }\n      }\n      if (videoArray.length > 0) {\n        embedLink = 'https://www.youtube.com/embed/' + videoArray[0];\n      }\n    }\n\n    useEffect(() => {\n        // new endpoint not based on most popular like landing page but movie id\n        let _mounted = true;\n        const fetchDetailInfo = (endpoint) => {\n\n            fetch(endpoint)\n                .then(result => result.json())\n                .then(result => {\n                    if (result.status_code) {\n                        _mounted && setLoadingForMovie(true);\n                        message.error(t(\"landing.nomovie\"));\n                        props.history.push(\"/landing\");\n                    } else {\n                        _mounted && setMovie(result)\n                        _mounted && setLoadingForMovie(false)\n\n                        let endpointForCasts = `${API_URL}movie/${movieId}/credits?api_key=${API_KEY}`;\n                       const videoLang = () => {\n                            const CurrentLanguage = localStorage.getItem('language')\n                            if (CurrentLanguage) return `${API_URL}movie/${movieId}/videos?api_key=${API_KEY}&language=${CurrentLanguage}`\n                            else return `${API_URL}movie/${movieId}/videos?api_key=${API_KEY}`\n                        }\n                        let endpointTrailer = videoLang();\n                        fetch(endpointForCasts)\n                            .then(result => result.json())\n                            .then(result => {\n                                _mounted && setCasts(result.cast);\n                                const Directors = result.crew.filter((member) => member.job === \"Director\");\n                                _mounted && setDirectors(Directors);\n                            })\n                        setLoadingForCasts(false)\n                        fetch(endpointTrailer)\n                            .then(result => result.json())\n                            .then(result => {\n                                _mounted && setTrailer(result.results);\n                            })\n                    }\n                })\n                .catch(error => console.error('Error:', error)\n                )\n        }\n        // console.log(movieSources)\n\n        let endpointForMovieInfo = `${API_URL}movie/${movieId}?api_key=${API_KEY}&language=${CurrentLanguage}`;\n        fetchDetailInfo(endpointForMovieInfo)\n\n        axios.post('/api/comment/getComments', variable)\n            .then(response => {\n                if (response.data.success) {\n                    _mounted && setCommentLists(response.data.comments)\n                } else {\n                    props.history.push(\"/login\");\n                }\n            })\n        return () => { _mounted = false }\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [movieId, t, props, CurrentLanguage])\n\n    const toggleActorView = () => {\n        setActorToggle(!ActorToggle)\n    }\n\n    const updateComment = (newComment) => {\n        setCommentLists(CommentLists.concat(newComment))\n    }\n\n    return (\n        <div>\n            {user.userData && user.userData.isAuth ?\n                <>\n                    {/* Movie Info */}\n                    {!LoadingForMovie && Trailer ?\n                        <MovieInfo movie={Movie} directors={Directors} cast={Casts} trailer={Trailer} />\n                        :\n                        <div><Spinner /></div>\n                    }\n\n\n                    {/* Body */}\n                    <div style={{ width: '85%', margin: '1rem auto' }}>\n\n                        {/* Actors Grid*/}\n\n                        {!LoadingForMovie ?\n                            <div style={{ display: 'flex', justifyContent: 'center', margin: '2rem' }}>\n                                <Button variant=\"contained\" className={classes.buttonActors} onClick={toggleActorView}>{ActorToggle ? t('movie.dontShowActors') : t('movie.showActors')}</Button>\n                            </div>\n                            :\n                            null\n                        }\n                        {ActorToggle &&\n                            <Row gutter={[16, 16]}>\n                                {\n                                    !LoadingForCasts ? Casts.map((cast, index) => (\n                                        cast.profile_path &&\n                                        <React.Fragment key={cast.id}>\n                                            <GridCards actor image={cast.profile_path} actorName={cast.name} charName={cast.character} />\n                                        </React.Fragment>\n                                    )) :\n                                        <div><Spinner /></div>\n                                }\n                            </Row>\n                        }\n                        <br />\n\n\n                        {/* Stream */}\n\n                        <Title level={3}>\n                            <StreamTitleIcon type=\"icon-movie2\" style={{ fontSize: \"28px\", paddingRight: \"10px\" }} />{t('movie.streamTitle')} {Movie.title}</Title>\n                        <hr />\n                        <br />\n                        <div style={{ display: 'flex', justifyContent: 'center', margin: '2rem' }}>\n                        <div className=\"iframe-container\">\n                    <iframe\n                      title={Movie.title}\n                      width=\"560\"\n                      height=\"315\"\n                      src={embedLink}\n                      frameBorder=\"0\"\n                      sameSite=\"none; secure\"\n                      Secure\n                      allow=\"accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture\"\n                      allowFullScreen>\n                    </iframe>\n                    </div>\n                        </div>\n                    \n                        <div style={{ display: 'flex', justifyContent: 'center' }}>\n                            <LikeDislikes video videoId={movieId} userId={localStorage.getItem('userId')} />\n                        </div>\n\n                        {/* Comments */}\n                        <Comments movieTitle={Movie.title} CommentLists={CommentLists} postId={postId} refreshFunction={updateComment} />\n\n                        <br />\n                        {/* Recommended Movies */}\n                        {!LoadingForMovie ?\n                            <div><RecommendedMovies type=\"Recommended Movies\" urlParams={movieId} /></div>\n                            :\n                            null\n                        }\n                        {/* <br /> */}\n                        {/* Similar Movies */}\n                        {!LoadingForMovie ?\n                            <div><SimilarMovies type=\"Similar Movies\" urlParams={movieId} /></div>\n                            :\n                            null\n                        }\n                    </div>\n                </>\n                : <Spinner />}\n        </div>\n    )\n}\n\nexport default MovieDetailPage\n","import React, { useEffect, useState } from 'react'\nimport { Typography, Popover, Button } from 'antd';\nimport axios from 'axios';\nimport './favorite.css';\nimport { useTranslation } from 'react-i18next';\nimport { ClockCircleOutlined, DeleteOutlined } from '@ant-design/icons';\nimport { IMAGE_BASE_URL, POSTER_SIZE } from '../../Config'\nimport { createFromIconfontCN } from '@ant-design/icons';\nimport { useHistory } from 'react-router-dom';\n\nconst { Title } = Typography;\n\nconst MovieInfoIcon = createFromIconfontCN({\n    scriptUrl: '//at.alicdn.com/t/font_1804216_3easwvxbvnh.js',\n});\n\nconst PopcornIcon = createFromIconfontCN({\n    scriptUrl: '//at.alicdn.com/t/font_1804216_05evm2uwptc9.js',\n});\n\nfunction FavoritePage() {\n    const { t } = useTranslation();\n\n    const [Favorites, setFavorites] = useState([])\n    const [Loading, setLoading] = useState(true)\n    const history = useHistory();\n    let variable = { userFrom: localStorage.getItem('userId') }\n\n    const calcTime = (time) => {\n        const hours = Math.floor(time / 60);\n        let mins = time % 60;\n        if (mins < 10) { mins = \"0\" + mins; }\n        return `${hours}h ${mins}min`;\n    }\n\n    useEffect(() => {\n        fetchFavoredMovie()\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [])\n\n    const fetchFavoredMovie = () => {\n        axios.post('/api/favorite/getFavoredMovie', variable)\n            .then(response => {\n                if (response.data.success) {\n                    // console.log(response.data.favorites)\n                    setFavorites(response.data.favorites)\n                    setLoading(false)\n                } else {\n                    history.push(\"/login\");\n                }\n            })\n    }\n\n    const onClickDelete = (movieId, userFrom) => {\n\n        const variables = {\n            movieId: movieId,\n            userFrom: userFrom,\n        }\n\n        axios.post('/api/favorite/removeFromFavorite', variables)\n            .then(response => {\n                if (response.data.success) {\n                    fetchFavoredMovie()\n                } else {\n                    history.push(\"/login\");\n                }\n            })\n    }\n\n    const renderCards = Favorites.map((favorite, index) => {\n\n\n        const content = (\n            <div>\n                {favorite.moviePost ?\n                    <img src={`${IMAGE_BASE_URL}${POSTER_SIZE}${favorite.moviePost}`} alt=\"\" />\n                    : \"no image\"}\n            </div>\n        );\n\n        return <tr key={favorite._id}>\n\n            <Popover content={content} title={`${favorite.movieTitle}`}>\n                <td><MovieInfoIcon type=\"icon-movie1\" style={{ fontSize: \"20px\", paddingRight: \"10px\" }} /><strong><a style={{ color: \"black\" }} href={`/movie/${favorite.movieId}`}>{favorite.movieTitle}</a></strong></td>\n            </Popover>\n\n            <td><center><ClockCircleOutlined style={{ paddingRight: \"10px\" }} />{calcTime(favorite.movieRunTime)}</center></td>\n            <td><center><Button type=\"primary\" onClick={() => onClickDelete(favorite.movieId, favorite.userFrom)}><DeleteOutlined />{t('favorites.removeButton')}</Button></center></td>\n        </tr>\n    })\n\n    return (\n        <div style={{ width: '85%', margin: '3rem auto' }}>\n            <Title level={2}><PopcornIcon type=\"icon-popcorn\" style={{ paddingRight: \"10px\" }} />{t('favorites.title')}</Title>\n            <hr />\n            <br />\n            {!Loading &&\n                <table>\n                    <thead>\n                        <tr>\n                            <th><MovieInfoIcon type=\"icon-movie1\" style={{ fontSize: \"20px\", paddingRight: \"10px\" }} />{t('favorites.movieTitle')}</th>\n                            <th><center><ClockCircleOutlined style={{ paddingRight: \"10px\" }} />{t('favorites.movieRuntime')}</center></th>\n                            <th><center><DeleteOutlined style={{ paddingRight: \"10px\" }} />{t('favorites.remove')}</center></th>\n                        </tr>\n                    </thead>\n                    <tbody>\n                        {renderCards}\n                    </tbody>\n                </table>\n            }\n        </div>\n    )\n}\n\nexport default FavoritePage\n","import React from 'react'\nimport { Formik } from 'formik';\nimport * as Yup from 'yup';\nimport * as API from \"../../../_actions/user_actions\";\nimport { useTranslation } from 'react-i18next';\nimport { LockOutlined } from '@ant-design/icons';\nimport { Typography } from 'antd';\nimport { store } from \"react-notifications-component\";\nimport {\n    Form,\n    Input,\n    Button,\n} from 'antd';\n\nconst { Title } = Typography;\n\nconst formItemLayout = {\n    labelCol: {\n        xs: { span: 20 },\n        sm: { span: 8 },\n    },\n    wrapperCol: {\n        xs: { span: 14 },\n        sm: { span: 6 },\n    },\n};\nconst tailFormItemLayout = {\n    wrapperCol: {\n        xs: {\n            span: 20,\n            offset: 0,\n        },\n        sm: {\n            span: 14,\n            offset: 8,\n        },\n    },\n};\n\n\nfunction ResetPass() {\n    const { t } = useTranslation();\n    return (\n        <React.Fragment>\n            <Formik\n                initialValues={{\n                    password: '',\n                }}\n                validationSchema={Yup.object().shape({\n                    password: Yup.string()\n                        .min(4, t('register.passwordMin'))\n                        .max(15, t('register.passwordMax'))\n                        //DECOMMENTER AVANT PUSH FINAL\n                        // .matches(\n                        //   /^(?=.*[A-Za-z])(?=.*\\d)(?=.*[@$!%*#?&])[A-Za-z\\d@$!%*#?&]{6,}$/,\n                        //   t('register.passRegex')\n                        // )\n                        .required(t('register.passwordErr')),\n                    password_confirm: Yup.string()\n                        .oneOf([Yup.ref('password'), null], t('register.passwordMatch'))\n                        .required(t('register.cpasswordErr')),\n                })}\n                onSubmit={(values, { setSubmitting }) => {\n                    setTimeout(() => {\n\n                        API.resetPasswordProfile(values.password, values.password_confirm)\n                            .then(response => {\n                                if (response.status === 200) {\n                                    store.addNotification({\n                                        message: t('editProfile.newpassok'),\n                                        insert: \"top\",\n                                        type: 'success',\n                                        container: \"top-right\",\n                                        animationIn: [\"animated\", \"fadeIn\"],\n                                        animationOut: [\"animated\", \"fadeOut\"],\n                                        dismiss: {\n                                            duration: 5000,\n                                            onScreen: true\n                                        }\n                                    });\n                                } else {\n                                    alert('Password Update Fail')\n                                }\n                            })\n                        setSubmitting(false);\n                    }, 500);\n                }}\n            >\n                {props => {\n                    const {\n                        errors,\n                        values,\n                        touched,\n                        isSubmitting,\n                        handleChange,\n                        handleBlur,\n                        handleSubmit,\n                    } = props;\n                    return (\n                        <div style={{ width: '85%', margin: '3rem auto' }}>\n                        <Title level={2}><LockOutlined style={{ paddingRight: \"10px\" }} />{t(\"editProfile.editPassword\")}</Title>\n                            <hr />\n                            <br />\n                        <Form style={{ minWidth: '375px' }} {...formItemLayout} onSubmit={handleSubmit}>\n                            <Input type=\"text\" name=\"username\" value=\"\" autoComplete=\"username\" style={{ display: 'none' }} />\n                            <Form.Item required label={t('editProfile.newpass')} hasFeedback validateStatus={errors.password && touched.password ? \"error\" : 'success'}>\n                                <Input\n                                    id=\"password\"\n                                    prefix={<LockOutlined style={{ color: 'rgba(0,0,0,.25)' }} />}\n                                    placeholder={t('register.passwordForm')}\n                                    type=\"password\"\n                                    name=\"password\"\n                                    autoComplete=\"current-password\"\n                                    onChange={handleChange}\n                                    onBlur={handleBlur}\n                                    value={values.password}\n                                    className={\n                                        errors.password && touched.password ? 'text-input error' : 'text-input'\n                                    }\n                                />\n                                {errors.password && touched.password && (\n                                    <div className=\"input-feedback\">{errors.password}</div>\n                                )}\n                            </Form.Item>\n\n                            <Form.Item required label={t('editProfile.newcpass')} hasFeedback validateStatus={errors.password_confirm && touched.password_confirm ? \"error\" : 'success'}>\n                                <Input\n                                    id=\"password_confirm\"\n                                    prefix={<LockOutlined style={{ color: 'rgba(0,0,0,.25)' }} />}\n                                    placeholder={t('register.cpasswordForm')}\n                                    type=\"password\"\n                                    name=\"password_confirm\"\n                                    autoComplete=\"current-password\"\n                                    value={values.password_confirm}\n                                    onChange={handleChange}\n                                    onBlur={handleBlur}\n                                    className={\n                                        errors.password_confirm && touched.password_confirm ? 'text-input error' : 'text-input'\n                                    }\n                                />\n                                {errors.password_confirm && touched.password_confirm && (\n                                    <div className=\"input-feedback\">{errors.password_confirm}</div>\n                                )}\n                            </Form.Item>\n\n                            <Form.Item {...tailFormItemLayout}>\n                                <Button onClick={handleSubmit} type=\"primary\" disabled={isSubmitting}>\n                                    {t('editProfile.updatePass')}\n                                </Button>\n                            </Form.Item>\n                        </Form>\n                        </div>\n                    )\n                }}\n            </Formik>\n        </React.Fragment>\n    )\n}\nexport default ResetPass","import React, { useEffect, useState } from 'react'\nimport axios from 'axios';\nimport { Formik } from 'formik';\nimport * as Yup from 'yup';\nimport { updateUser } from \"../../../_actions/user_actions\";\nimport { useDispatch } from \"react-redux\";\nimport { message, Typography, Avatar } from 'antd';\nimport { useTranslation } from 'react-i18next';\nimport ResetPass from './ResetPass';\nimport { UserOutlined } from '@ant-design/icons';\nimport Spinner from '../LandingPage/Sections/Spinner';\nimport { store } from \"react-notifications-component\";\nimport { useHistory } from 'react-router-dom';\nimport { useSelector } from 'react-redux';\nimport {\n  Form,\n  Input,\n  Button,\n} from 'antd';\n\nconst { Title } = Typography;\n\nconst formItemLayout = {\n  labelCol: {\n      xs: { span: 20 },\n      sm: { span: 8 },\n  },\n  wrapperCol: {\n      xs: { span: 14 },\n      sm: { span: 6 },\n  },\n};\nconst tailFormItemLayout = {\n  wrapperCol: {\n      xs: {\n          span: 20,\n          offset: 0,\n      },\n      sm: {\n          span: 14,\n          offset: 8,\n      },\n  },\n};\n\n\nfunction ProfilePage() {\n  const { t, i18n } = useTranslation();\n  const user = useSelector(state => state.user);\n  const [loading, setLoading] = useState(false);\n  const [image, setImage] = useState('');\n  const [content, setContent] = React.useState(\"\");\n  const [UserID, setUserID] = useState([]);\n  const imageInputRef = React.useRef();\n  const history = useHistory();\n  var allowedTypes = [\"jpg\", \"jpeg\", \"png\", \"gif\"];\n\n  const changeLanguage = lng => {\n    i18n.changeLanguage(lng);\n  };\n  let language = i18n.language;\n\n  function onChange(e) {\n    changeLanguage(e.target.value);\n    localStorage.setItem(\"language\", e.target.value);\n  }\n\n  useEffect(() => {\n    axios.get('/api/users/:userId')\n      .then(response => {\n        if (response.data.success) {\n          setUserID(response.data.users)\n        } else {\n          history.push(\"/login\");\n        }\n      })\n  }, [history])\n\n  const uploadImage = e => {\n    e.preventDefault();\n    setContent(e.target.value)\n    const files = e.target.files[0];\n    const cloudName = \"dkyqbngya\";\n    const unsignedUploadPreset = \"f7r0dz2t\";\n    var url = `https://api.cloudinary.com/v1_1/${cloudName}/image/upload`;\n    if (!files || files.length === 0)\n      return;\n    if (files) {\n      var extension = files.name.replace(/.*\\./, '').toLowerCase();\n      if (allowedTypes.indexOf(extension) < 0) {\n        message.error(`${files.type}${t('register.imgFormat')}`)\n        imageInputRef.current.value = \"\";\n        setContent(\"\");\n        setImage(\"\"); \n        return;\n      }\n      if (files.size > 150000) {\n        message.error(`${files.name}${t('register.imgTooLarge')}`)\n        imageInputRef.current.value = \"\";\n        setContent(\"\");\n        setImage(\"\"); \n        return;\n      }\n      else {\n        var fd = new FormData();\n        fd.append(\"file\", files);\n        fd.append(\"upload_preset\", unsignedUploadPreset);\n        setLoading(true);\n        const config = {\n          headers: { \"X-Requested-With\": \"XMLHttpRequest\" },\n        };\n        axios.post(url, fd, config)\n          .then(res => {\n            setLoading(false)\n            var url = res.data.secure_url;\n            var resize = url.split('/');\n            resize.splice(-3, 0, 'w_125,c_scale');\n            var img = new Image();\n            img.src = resize.join('/');\n            setImage(img.src)\n          })\n          .catch((err) => {\n            if (err) {\n              switch (err.response.status) {\n                case 400:\n                  message.error(t('register.imgInvalid'))\n                  break;\n                case 404:\n                  message.error(t('register.imgNotFound'))\n                  break;\n                case 500:\n                  message.error(t('register.imgError'))\n                  break;\n                default:\n                  break;\n              }\n            }\n          })\n      }\n    }\n  }\n\n  const dispatch = useDispatch();\n    return (\n      user.userData && user.userData.isAuth ?\n    UserID.map((info, index) => (\n      <React.Fragment key={info._id}>\n        <Formik\n          initialValues={{\n            email: info.email,\n            firstName: info.firstName,\n            lastName: info.lastName,\n            username: info.username,\n            image: image,\n            lang: language,\n          }}\n          validationSchema={Yup.object().shape({\n            username: Yup.string()\n              .required(t('register.usernameErr'))\n              .matches(/^[A-Za-z0-9_]{2,20}$/, t('register.usernameRules'))\n              .min(2, t('register.usernameMin'))\n              .max(20, t('register.usernameMax')),\n            firstName: Yup.string()\n              .required(t('register.firstNameErr'))\n              .matches(/^[A-Z]+$/i, t('register.firstNameAlpha'))\n              .min(2, t('register.firstNameMin'))\n              .max(20, t('register.firstNameMax')),\n            lastName: Yup.string()\n              .required(t('register.lastNameErr'))\n              .matches(/^[A-Z]+$/i, t('register.lastNameAlpha'))\n              .min(2, t('register.lastNameMin'))\n              .max(20, t('register.lastNameMax')),\n            email: Yup.string()\n              .email(t('register.emailInvalid'))\n              .required(t('register.emailErr')),\n          })}\n          onSubmit={(info, { setSubmitting }) => {\n            setTimeout(() => {\n\n              let dataToSubmit = {\n                email: info.email,\n                username: info.username,\n                firstName: info.firstName,\n                lastName: info.lastName,\n                image: image,\n                lang: language,\n              };\n\n              dispatch(updateUser(dataToSubmit)).then(response => {\n                if (response.payload.success) {\n                  store.addNotification({\n                    message: t('editProfile.profileUpdated'),\n                    insert: \"top\",\n                    type: 'success',\n                    container: \"top-right\",\n                    animationIn: [\"animated\", \"fadeIn\"],\n                    animationOut: [\"animated\", \"fadeOut\"],\n                    dismiss: {\n                      duration: 5000,\n                      onScreen: true\n                    }\n                  });\n                } else {\n                  alert(response.payload.err)\n                }\n              })\n              setSubmitting(false);\n            }, 500);\n          }}\n        >\n          {props => {\n            const {\n              errors,\n              touched,\n              isSubmitting,\n              handleChange,\n              handleBlur,\n              handleSubmit,\n            } = props;\n            return (\n\n              <div style={{ width: '85%', margin: '3rem auto' }}>\n\n                <Title level={2}><UserOutlined style={{paddingRight: \"10px\"}}/>{t(\"editProfile.title\")}</Title>\n                <hr />\n                <br />\n                <main style={{ position: 'relative' }}>\n                <Form key={info._id} style={{ minWidth: '375px' }} {...formItemLayout} onSubmit={handleSubmit}>\n                  <Form.Item required label={t('editProfile.avatar')}>\n                    <div name=\"image\" className=\"imagePreview\" >\n                    {image ? <Avatar src={image} size={130}/>\n                    : \n                    loading ? <Spinner /> : \n                    <Avatar src={info.image} alt=\"\" size={130}/>}\n                    </div>\n                    <Input\n                      id=\"image\"\n                      type=\"file\"\n                      name=\"image\"\n                      accept=\"image/*\"\n                      ref={imageInputRef} \n                      onChange={uploadImage}\n                      value={content}\n                      onBlur={handleBlur}\n                    />\n                  </Form.Item>\n\n                  <Form.Item required label={t(\"editProfile.prefLang\")}>\n                    <select defaultValue={language} onChange={onChange}>\n                      <option value=\"en-US\">{t(\"navbar.lngEN\")}</option>\n                      <option value=\"fr-FR\">{t(\"navbar.lngFR\")}</option>\n                    </select>\n                  </Form.Item>\n\n                  <Form.Item required label={t('register.username')}>\n                    <Input\n                      id=\"username\"\n                      type=\"text\"\n                      autoComplete=\"username\"\n                      defaultValue={info.username}\n                      onChange={handleChange}\n                      onBlur={handleBlur}\n                      className={\n                        errors.username && touched.username ? 'text-input error' : 'text-input'\n                      }\n                    />\n                    {errors.username && touched.username && (\n                      <div className=\"input-feedback\">{errors.username}</div>\n                    )}\n                  </Form.Item>\n\n                  <Form.Item required label={t('register.firstName')}>\n                    <Input\n                      id=\"firstName\"\n                      type=\"text\"\n                      defaultValue={info.firstName}\n                      onChange={handleChange}\n                      onBlur={handleBlur}\n                      className={\n                        errors.firstName && touched.firstName ? 'text-input error' : 'text-input'\n                      }\n                    />\n                    {errors.firstName && touched.firstName && (\n                      <div className=\"input-feedback\">{errors.firstName}</div>\n                    )}\n                  </Form.Item>\n\n                  <Form.Item required label={t('register.lastName')}>\n                    <Input\n                      id=\"lastName\"\n                      type=\"text\"\n                      defaultValue={info.lastName}\n                      onChange={handleChange}\n                      onBlur={handleBlur}\n                      className={\n                        errors.lastName && touched.lastName ? 'text-input error' : 'text-input'\n                      }\n                    />\n                    {errors.lastName && touched.lastName && (\n                      <div className=\"input-feedback\">{errors.lastName}</div>\n                    )}\n                  </Form.Item>\n\n                  <Form.Item required label={t('register.email')}>\n                    <Input\n                      id=\"email\"\n                      type=\"email\"\n                      autoComplete=\"email\"\n                      defaultValue={info.email}\n                      onChange={handleChange}\n                      onBlur={handleBlur}\n                      className={\n                        errors.email && touched.email ? 'text-input error' : 'text-input'\n                      }\n                    />\n                    {errors.email && touched.email && (\n                      <div className=\"input-feedback\">{errors.email}</div>\n                    )}\n                  </Form.Item>\n\n                  <Form.Item {...tailFormItemLayout}>\n                    <Button onClick={handleSubmit} type=\"primary\" disabled={isSubmitting}>\n                      {t('editProfile.update')}\n                    </Button>\n                  </Form.Item>\n                </Form>\n                </main>\n              </div>\n            )\n          }}\n        </Formik>\n            <br />\n        <ResetPass />\n      </React.Fragment>\n    ))\n    :\n    <Spinner />\n  )\n}\nexport default ProfilePage","import React, { useEffect, useState } from 'react'\nimport axios from 'axios';\nimport { useTranslation } from 'react-i18next';\nimport { Card, Avatar, Col, Row, Typography } from 'antd';\nimport { useHistory } from 'react-router-dom';\nconst { Title } = Typography;\nconst { Meta } = Card;\n\nfunction UsersPage() {\n\n    const { t } = useTranslation();\n    const [UserList, setUserList] = useState([])\n    const [Loading, setLoading] = useState(true)\n    const history = useHistory();\n\n    useEffect(() => {\n        axios.get('/api/users/getUsers')\n            .then(response => {\n                if (response.data.success) {\n                    setUserList(response.data.users)\n                    setLoading(false)\n                } else {\n                    history.push(\"/login\");\n                }\n            })\n    }, [history])\n\n    const renderCards = UserList.map((user, index) => {\n        return <Col lg={6} md={8} xs={24} key={user._id}>\n            <Card\n                hoverable\n                style={{ width: 240, display: 'flex', justifyContent: 'center', alignItems: 'center' }}\n                cover={<Avatar src={user.image} size={84} />}\n            >\n                <Meta title={user.username} />\n                <br />\n                <span>{user.firstName} {user.lastName}</span>\n            </Card>\n        </Col>\n    })\n\n    return (\n        <div style={{ width: '85%', margin: '3rem auto' }}>\n            <Title level={2}>{t(\"users.usersTitle\")}</Title>\n            <hr />\n            <br />\n            {!Loading &&\n            <Row gutter={[16, 16]}>\n                {renderCards}\n            </Row>\n            }\n        </div>\n    )\n}\n\nexport default UsersPage","import React from 'react';\nimport { useTranslation } from 'react-i18next';\n\nconst NotFound = () => {\n    const { t } = useTranslation();\n    return (\n        <div className=\"not_found_container\">\n            <div>{t('notFound.sorry')}</div>\n            <div>\n            {t('notFound.notfound')}\n            </div>\n        </div>\n    );\n};\n\nexport default NotFound;","import React from 'react';\nimport './i18n';\nimport './App.css';\nimport { Suspense } from 'react';\nimport { Route, Switch } from \"react-router-dom\";\nimport Auth from \"../hoc/auth\";\nimport { useTranslation } from 'react-i18next';\nimport Spinner from './views/LandingPage/Sections/Spinner';\nimport ReactNotification from \"react-notifications-component\";\nimport 'react-notifications-component/dist/theme.css'\n// pages for this product\nimport LandingPage from \"./views/LandingPage/LandingPage.js\";\nimport GenresPage from './views/GenresPage/GenresPage.js';\nimport LoginPage from \"./views/LoginPage/LoginPage.js\";\nimport RegisterPage from \"./views/RegisterPage/RegisterPage.js\";\nimport NavBar from \"./views/NavBar/NavBar\";\nimport Footer from \"./views/Footer/Footer\";\nimport MovieDetail from \"./views/MovieDetail/MovieDetail\";\nimport FavoritePage from \"./views/FavoritePage/FavoritePage\";\nimport ProfilePage from \"./views/ProfilePage/ProfilePage\";\nimport UsersPage from \"./views/UsersPage/UsersPage\";\nimport NotFound from \"./NotFound\";\n\nfunction App() {\n  const { t } = useTranslation();\n  return ( \n  \n    <Suspense fallback={t(<Spinner />)}>\n      <NavBar />\n      <div style={{ paddingTop: '69px', minHeight: 'calc(100vh - 80px)' }}>\n      <div className={\"notifications\"}> <ReactNotification /> </div>\n        <Switch>\n          <Route exact path=\"/\" component={Auth(LoginPage, false)} />\n          <Route exact path=\"/login\" component={Auth(LoginPage, false)} />\n          <Route exact path=\"/landing\" component={Auth(LandingPage, true)} />\n          <Route exact path='/landing/genre/:genreName/:genreId' component={Auth(GenresPage, true)} />\n          <Route exact path=\"/register\" component={Auth(RegisterPage, false)} />\n          <Route exact path=\"/movie/:movieId\" component={Auth(MovieDetail, true)} />\n          <Route exact path=\"/favorite\" component={Auth(FavoritePage, true)} />\n          <Route exact path=\"/profile\" component={Auth(ProfilePage, true)} />\n          <Route exact path=\"/users\" component={Auth(UsersPage, true)} />\n          <Route component={Auth(NotFound, null)}/>\n        </Switch>\n      </div>\n      <Footer />\n    </Suspense>\n  );\n}\n\nexport default App;","\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    window.location.hostname === '[::1]' ||\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        checkValidServiceWorker(swUrl, config);\n\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import { combineReducers } from 'redux';\nimport user from './user_reducer';\n\nconst rootReducer = combineReducers({\n    user,\n});\n\nexport default rootReducer;","import {\n    LOGIN_USER,\n    REGISTER_USER,\n    UPDATE_USER,\n    AUTH_USER,\n    LOGOUT_USER,\n} from '../_actions/types';\n\n\nexport default function foo(state = {}, action) {\n    switch (action.type) {\n        case REGISTER_USER:\n            return { ...state, register: action.payload }\n        case UPDATE_USER:\n            return { ...state, update: action.payload }\n        case LOGIN_USER:\n            return { ...state, loginSucces: action.payload }\n        case AUTH_USER:\n            return { ...state, userData: action.payload }\n        case LOGOUT_USER:\n            return { ...state }\n        default:\n            return state;\n    }\n}","import React, { Suspense } from 'react';\nimport './components/i18n';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/App';\nimport Spinner from './components/views/LandingPage/Sections/Spinner';\nimport * as serviceWorker from './serviceWorker';\nimport { BrowserRouter } from \"react-router-dom\";\nimport Reducer from './_reducers';\nimport { Provider } from 'react-redux';\nimport { createStore, applyMiddleware } from 'redux';\nimport promiseMiddleware from 'redux-promise';\nimport ReduxThunk from 'redux-thunk';\n\nconst createStoreWithMiddleware = applyMiddleware(promiseMiddleware, ReduxThunk)(createStore);\n\nReactDOM.render(\n  <Provider\n    store={createStoreWithMiddleware(\n      Reducer,\n      window.__REDUX_DEVTOOLS_EXTENSION__ &&\n      window.__REDUX_DEVTOOLS_EXTENSION__()\n    )}\n  >\n    <BrowserRouter>\n      <Suspense fallback={<Spinner />}>\n          <App />\n      </Suspense>\n    </BrowserRouter>\n  </Provider>\n  , document.getElementById('root'));\n\nserviceWorker.unregister();\n\n"],"sourceRoot":""}